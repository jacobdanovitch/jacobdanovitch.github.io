(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.nbpresentNotebook = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},r=n._,t=Array.prototype,e=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,i=t.push,o=t.slice,a=e.toString,c=e.hasOwnProperty,l=Array.isArray,f=Object.keys,s=Object.create,p=function(){},v=function(n){return n instanceof v?n:this instanceof v?void(this._wrapped=n):new v(n)};"undefined"==typeof exports||exports.nodeType?n._=v:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=v),exports._=v),v.VERSION="1.9.1";var h,y=function(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,i){return n.call(r,t,e,u,i)}}return function(){return n.apply(r,arguments)}},d=function(n,r,t){return v.iteratee!==h?v.iteratee(n,r):null==n?v.identity:v.isFunction(n)?y(n,r,t):v.isObject(n)&&!v.isArray(n)?v.matcher(n):v.property(n)};v.iteratee=h=function(n,r){return d(n,r,1/0)};var g=function(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var i=Array(r+1);for(u=0;u<r;u++)i[u]=arguments[u];return i[r]=e,n.apply(this,i)}},m=function(n){if(!v.isObject(n))return{};if(s)return s(n);p.prototype=n;var r=new p;return p.prototype=null,r},b=function(n){return function(r){return null==r?void 0:r[n]}},j=function(n,r){return null!=n&&c.call(n,r)},x=function(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0},_=Math.pow(2,53)-1,A=b("length"),w=function(n){var r=A(n);return"number"==typeof r&&r>=0&&r<=_};v.each=v.forEach=function(n,r,t){r=y(r,t);var e,u;if(w(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var i=v.keys(n);for(e=0,u=i.length;e<u;e++)r(n[i[e]],i[e],n)}return n},v.map=v.collect=function(n,r,t){r=d(r,t);for(var e=!w(n)&&v.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=r(n[a],a,n)}return i};var O=function(n){var r=function(r,t,e,u){var i=!w(r)&&v.keys(r),o=(i||r).length,a=n>0?0:o-1;for(u||(e=r[i?i[a]:a],a+=n);a>=0&&a<o;a+=n){var c=i?i[a]:a;e=t(e,r[c],c,r)}return e};return function(n,t,e,u){var i=arguments.length>=3;return r(n,y(t,u,4),e,i)}};v.reduce=v.foldl=v.inject=O(1),v.reduceRight=v.foldr=O(-1),v.find=v.detect=function(n,r,t){var e=w(n)?v.findIndex:v.findKey,u=e(n,r,t);if(void 0!==u&&-1!==u)return n[u]},v.filter=v.select=function(n,r,t){var e=[];return r=d(r,t),v.each(n,function(n,t,u){r(n,t,u)&&e.push(n)}),e},v.reject=function(n,r,t){return v.filter(n,v.negate(d(r)),t)},v.every=v.all=function(n,r,t){r=d(r,t);for(var e=!w(n)&&v.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!r(n[o],o,n))return!1}return!0},v.some=v.any=function(n,r,t){r=d(r,t);for(var e=!w(n)&&v.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(r(n[o],o,n))return!0}return!1},v.contains=v.includes=v.include=function(n,r,t,e){return w(n)||(n=v.values(n)),("number"!=typeof t||e)&&(t=0),v.indexOf(n,r,t)>=0},v.invoke=g(function(n,r,t){var e,u;return v.isFunction(r)?u=r:v.isArray(r)&&(e=r.slice(0,-1),r=r[r.length-1]),v.map(n,function(n){var i=u;if(!i){if(e&&e.length&&(n=x(n,e)),null==n)return;i=n[r]}return null==i?i:i.apply(n,t)})}),v.pluck=function(n,r){return v.map(n,v.property(r))},v.where=function(n,r){return v.filter(n,v.matcher(r))},v.findWhere=function(n,r){return v.find(n,v.matcher(r))},v.max=function(n,r,t){var e,u,i=-1/0,o=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n){n=w(n)?n:v.values(n);for(var a=0,c=n.length;a<c;a++)null!=(e=n[a])&&e>i&&(i=e)}else r=d(r,t),v.each(n,function(n,t,e){((u=r(n,t,e))>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},v.min=function(n,r,t){var e,u,i=1/0,o=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n){n=w(n)?n:v.values(n);for(var a=0,c=n.length;a<c;a++)null!=(e=n[a])&&e<i&&(i=e)}else r=d(r,t),v.each(n,function(n,t,e){((u=r(n,t,e))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},v.shuffle=function(n){return v.sample(n,1/0)},v.sample=function(n,r,t){if(null==r||t)return w(n)||(n=v.values(n)),n[v.random(n.length-1)];var e=w(n)?v.clone(n):v.values(n),u=A(e);r=Math.max(Math.min(r,u),0);for(var i=u-1,o=0;o<r;o++){var a=v.random(o,i),c=e[o];e[o]=e[a],e[a]=c}return e.slice(0,r)},v.sortBy=function(n,r,t){var e=0;return r=d(r,t),v.pluck(v.map(n,function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),"value")};var k=function(n,r){return function(t,e,u){var i=r?[[],[]]:{};return e=d(e,u),v.each(t,function(r,u){var o=e(r,u,t);n(i,r,o)}),i}};v.groupBy=k(function(n,r,t){j(n,t)?n[t].push(r):n[t]=[r]}),v.indexBy=k(function(n,r,t){n[t]=r}),v.countBy=k(function(n,r,t){j(n,t)?n[t]++:n[t]=1});var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(n){return n?v.isArray(n)?o.call(n):v.isString(n)?n.match(S):w(n)?v.map(n,v.identity):v.values(n):[]},v.size=function(n){return null==n?0:w(n)?n.length:v.keys(n).length},v.partition=k(function(n,r,t){n[t?0:1].push(r)},!0),v.first=v.head=v.take=function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[0]:v.initial(n,n.length-r)},v.initial=function(n,r,t){return o.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))},v.last=function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[n.length-1]:v.rest(n,Math.max(0,n.length-r))},v.rest=v.tail=v.drop=function(n,r,t){return o.call(n,null==r||t?1:r)},v.compact=function(n){return v.filter(n,Boolean)};var M=function(n,r,t,e){e=e||[];for(var u=e.length,i=0,o=A(n);i<o;i++){var a=n[i];if(w(a)&&(v.isArray(a)||v.isArguments(a)))if(r)for(var c=0,l=a.length;c<l;)e[u++]=a[c++];else M(a,r,t,e),u=e.length;else t||(e[u++]=a)}return e};v.flatten=function(n,r){return M(n,r,!1)},v.without=g(function(n,r){return v.difference(n,r)}),v.uniq=v.unique=function(n,r,t,e){v.isBoolean(r)||(e=t,t=r,r=!1),null!=t&&(t=d(t,e));for(var u=[],i=[],o=0,a=A(n);o<a;o++){var c=n[o],l=t?t(c,o,n):c;r&&!t?(o&&i===l||u.push(c),i=l):t?v.contains(i,l)||(i.push(l),u.push(c)):v.contains(u,c)||u.push(c)}return u},v.union=g(function(n){return v.uniq(M(n,!0,!0))}),v.intersection=function(n){for(var r=[],t=arguments.length,e=0,u=A(n);e<u;e++){var i=n[e];if(!v.contains(r,i)){var o;for(o=1;o<t&&v.contains(arguments[o],i);o++);o===t&&r.push(i)}}return r},v.difference=g(function(n,r){return r=M(r,!0,!0),v.filter(n,function(n){return!v.contains(r,n)})}),v.unzip=function(n){for(var r=n&&v.max(n,A).length||0,t=Array(r),e=0;e<r;e++)t[e]=v.pluck(n,e);return t},v.zip=g(v.unzip),v.object=function(n,r){for(var t={},e=0,u=A(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t};var F=function(n){return function(r,t,e){t=d(t,e);for(var u=A(r),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(t(r[i],i,r))return i;return-1}};v.findIndex=F(1),v.findLastIndex=F(-1),v.sortedIndex=function(n,r,t,e){t=d(t,e,1);for(var u=t(r),i=0,o=A(n);i<o;){var a=Math.floor((i+o)/2);t(n[a])<u?i=a+1:o=a}return i};var E=function(n,r,t){return function(e,u,i){var a=0,c=A(e);if("number"==typeof i)n>0?a=i>=0?i:Math.max(i+c,a):c=i>=0?Math.min(i+1,c):i+c+1;else if(t&&i&&c)return i=t(e,u),e[i]===u?i:-1;if(u!==u)return i=r(o.call(e,a,c),v.isNaN),i>=0?i+a:-1;for(i=n>0?a:c-1;i>=0&&i<c;i+=n)if(e[i]===u)return i;return-1}};v.indexOf=E(1,v.findIndex,v.sortedIndex),v.lastIndexOf=E(-1,v.findLastIndex),v.range=function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),i=0;i<e;i++,n+=t)u[i]=n;return u},v.chunk=function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(o.call(n,e,e+=r));return t};var N=function(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var i=m(n.prototype),o=n.apply(i,u);return v.isObject(o)?o:i};v.bind=g(function(n,r,t){if(!v.isFunction(n))throw new TypeError("Bind must be called on a function");var e=g(function(u){return N(n,e,r,this,t.concat(u))});return e}),v.partial=g(function(n,r){var t=v.partial.placeholder,e=function(){for(var u=0,i=r.length,o=Array(i),a=0;a<i;a++)o[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)o.push(arguments[u++]);return N(n,e,this,this,o)};return e}),v.partial.placeholder=v,v.bindAll=g(function(n,r){r=M(r,!1,!1);var t=r.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=v.bind(n[e],n)}}),v.memoize=function(n,r){var t=function(e){var u=t.cache,i=""+(r?r.apply(this,arguments):e);return j(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return t.cache={},t},v.delay=g(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(n,r,t){var e,u,i,o,a=0;t||(t={});var c=function(){a=!1===t.leading?0:v.now(),e=null,o=n.apply(u,i),e||(u=i=null)},l=function(){var l=v.now();a||!1!==t.leading||(a=l);var f=r-(l-a);return u=this,i=arguments,f<=0||f>r?(e&&(clearTimeout(e),e=null),a=l,o=n.apply(u,i),e||(u=i=null)):e||!1===t.trailing||(e=setTimeout(c,f)),o};return l.cancel=function(){clearTimeout(e),a=0,e=u=i=null},l},v.debounce=function(n,r,t){var e,u,i=function(r,t){e=null,t&&(u=n.apply(r,t))},o=g(function(o){if(e&&clearTimeout(e),t){var a=!e;e=setTimeout(i,r),a&&(u=n.apply(this,o))}else e=v.delay(i,r,this,o);return u});return o.cancel=function(){clearTimeout(e),e=null},o},v.wrap=function(n,r){return v.partial(r,n)},v.negate=function(n){return function(){return!n.apply(this,arguments)}},v.compose=function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},v.after=function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},v.before=function(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}},v.once=v.partial(v.before,2),v.restArguments=g;var I=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(n,r){var t=T.length,u=n.constructor,i=v.isFunction(u)&&u.prototype||e,o="constructor";for(j(n,o)&&!v.contains(r,o)&&r.push(o);t--;)(o=T[t])in n&&n[o]!==i[o]&&!v.contains(r,o)&&r.push(o)};v.keys=function(n){if(!v.isObject(n))return[];if(f)return f(n);var r=[];for(var t in n)j(n,t)&&r.push(t);return I&&B(n,r),r},v.allKeys=function(n){if(!v.isObject(n))return[];var r=[];for(var t in n)r.push(t);return I&&B(n,r),r},v.values=function(n){for(var r=v.keys(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e},v.mapObject=function(n,r,t){r=d(r,t);for(var e=v.keys(n),u=e.length,i={},o=0;o<u;o++){var a=e[o];i[a]=r(n[a],a,n)}return i},v.pairs=function(n){for(var r=v.keys(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},v.invert=function(n){for(var r={},t=v.keys(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r},v.functions=v.methods=function(n){var r=[];for(var t in n)v.isFunction(n[t])&&r.push(t);return r.sort()};var R=function(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var l=o[c];r&&void 0!==t[l]||(t[l]=i[l])}return t}};v.extend=R(v.allKeys),v.extendOwn=v.assign=R(v.keys),v.findKey=function(n,r,t){r=d(r,t);for(var e,u=v.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],r(n[e],e,n))return e};var q=function(n,r,t){return r in t};v.pick=g(function(n,r){var t={},e=r[0];if(null==n)return t;v.isFunction(e)?(r.length>1&&(e=y(e,r[1])),r=v.allKeys(n)):(e=q,r=M(r,!1,!1),n=Object(n));for(var u=0,i=r.length;u<i;u++){var o=r[u],a=n[o];e(a,o,n)&&(t[o]=a)}return t}),v.omit=g(function(n,r){var t,e=r[0];return v.isFunction(e)?(e=v.negate(e),r.length>1&&(t=r[1])):(r=v.map(M(r,!1,!1),String),e=function(n,t){return!v.contains(r,t)}),v.pick(n,e,t)}),v.defaults=R(v.allKeys,!0),v.create=function(n,r){var t=m(n);return r&&v.extendOwn(t,r),t},v.clone=function(n){return v.isObject(n)?v.isArray(n)?n.slice():v.extend({},n):n},v.tap=function(n,r){return r(n),n},v.isMatch=function(n,r){var t=v.keys(r),e=t.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=t[i];if(r[o]!==u[o]||!(o in u))return!1}return!0};var K,z;K=function(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!==n)return r!==r;var u=typeof n;return("function"===u||"object"===u||"object"==typeof r)&&z(n,r,t,e)},z=function(n,r,t,e){n instanceof v&&(n=n._wrapped),r instanceof v&&(r=r._wrapped);var i=a.call(n);if(i!==a.call(r))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return u.valueOf.call(n)===u.valueOf.call(r)}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof r)return!1;var c=n.constructor,l=r.constructor;if(c!==l&&!(v.isFunction(c)&&c instanceof c&&v.isFunction(l)&&l instanceof l)&&"constructor"in n&&"constructor"in r)return!1}t=t||[],e=e||[];for(var f=t.length;f--;)if(t[f]===n)return e[f]===r;if(t.push(n),e.push(r),o){if((f=n.length)!==r.length)return!1;for(;f--;)if(!K(n[f],r[f],t,e))return!1}else{var s,p=v.keys(n);if(f=p.length,v.keys(r).length!==f)return!1;for(;f--;)if(s=p[f],!j(r,s)||!K(n[s],r[s],t,e))return!1}return t.pop(),e.pop(),!0},v.isEqual=function(n,r){return K(n,r)},v.isEmpty=function(n){return null==n||(w(n)&&(v.isArray(n)||v.isString(n)||v.isArguments(n))?0===n.length:0===v.keys(n).length)},v.isElement=function(n){return!(!n||1!==n.nodeType)},v.isArray=l||function(n){return"[object Array]"===a.call(n)},v.isObject=function(n){var r=typeof n;return"function"===r||"object"===r&&!!n},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(n){v["is"+n]=function(r){return a.call(r)==="[object "+n+"]"}}),v.isArguments(arguments)||(v.isArguments=function(n){return j(n,"callee")});var D=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof D&&(v.isFunction=function(n){return"function"==typeof n||!1}),v.isFinite=function(n){return!v.isSymbol(n)&&isFinite(n)&&!isNaN(parseFloat(n))},v.isNaN=function(n){return v.isNumber(n)&&isNaN(n)},v.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===a.call(n)},v.isNull=function(n){return null===n},v.isUndefined=function(n){return void 0===n},v.has=function(n,r){if(!v.isArray(r))return j(n,r);for(var t=r.length,e=0;e<t;e++){var u=r[e];if(null==n||!c.call(n,u))return!1;n=n[u]}return!!t},v.noConflict=function(){return n._=r,this},v.identity=function(n){return n},v.constant=function(n){return function(){return n}},v.noop=function(){},v.property=function(n){return v.isArray(n)?function(r){return x(r,n)}:b(n)},v.propertyOf=function(n){return null==n?function(){}:function(r){return v.isArray(r)?x(n,r):n[r]}},v.matcher=v.matches=function(n){return n=v.extendOwn({},n),function(r){return v.isMatch(r,n)}},v.times=function(n,r,t){var e=Array(Math.max(0,n));r=y(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},v.random=function(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))},v.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=v.invert(L),W=function(n){var r=function(r){return n[r]},t="(?:"+v.keys(n).join("|")+")",e=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,r):n}};v.escape=W(L),v.unescape=W(P),v.result=function(n,r,t){v.isArray(r)||(r=[r]);var e=r.length;if(!e)return v.isFunction(t)?t.call(n):t;for(var u=0;u<e;u++){var i=null==n?void 0:n[r[u]];void 0===i&&(i=t,u=e),n=v.isFunction(i)?i.call(n):i}return n};var C=0;v.uniqueId=function(n){var r=++C+"";return n?n+r:r},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,$=function(n){return"\\"+U[n]};v.template=function(n,r,t){!r&&t&&(r=t),r=v.defaults({},r,v.templateSettings);var e=RegExp([(r.escape||J).source,(r.interpolate||J).source,(r.evaluate||J).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(r,t,e,o,a){return i+=n.slice(u,a).replace(V,$),u=a+r.length,t?i+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),r}),i+="';\n",r.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";var o;try{o=new Function(r.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,v)};return a.source="function("+(r.variable||"obj")+"){\n"+i+"}",a},v.chain=function(n){var r=v(n);return r._chain=!0,r};var G=function(n,r){return n._chain?v(r).chain():r};v.mixin=function(n){return v.each(v.functions(n),function(r){var t=v[r]=n[r];v.prototype[r]=function(){var n=[this._wrapped];return i.apply(n,arguments),G(this,t.apply(v,n))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var r=t[n];v.prototype[n]=function(){var t=this._wrapped;return r.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0],G(this,t)}}),v.each(["concat","join","slice"],function(n){var r=t[n];v.prototype[n]=function(){return G(this,r.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],2:[function(require,module,exports){
module.exports={
  "author": {
    "name": "Nicholas Bollweg",
    "url": "https://github.com/bollwyvl"
  },
  "bugs": {
    "url": "https://github.com/Anaconda-Platform/nbpresent/issues"
  },
  "chat": "https://gitter.im/Anaconda-Platform/nbpresent",
  "dependencies": {
    "baobab": "^2.2.1",
    "d3": "~3.5.12",
    "html2canvas": "^0.5.0-beta4",
    "phantomjs-polyfill": "0.0.1",
    "underscore": "^1.8.3",
    "uuid": "^2.0.1",
    "webfontloader": "^1.6.21"
  },
  "description": "This will be the home of the next generation of slide authoring presentation for [Jupyter Notebooks](https://github.com/jupyter/notebook).",
  "devDependencies": {
    "babel": "^6.1.18",
    "babel-eslint": "^4.1.8",
    "babel-preset-es2015": "^6.1.18",
    "babelify": "^7.2.0",
    "browserify": "~11.2.0",
    "casperjs": "^1.1.1",
    "esdoc": "^0.4.0",
    "eslint": "^1.10.3",
    "jquery": "^2.2.0",
    "less-plugin-autoprefix": "~1.5.1",
    "less-plugin-clean-css": "~1.5.1",
    "less": "~2.5.3",
    "lodash": "^3.10.1",
    "phantomjs-prebuilt": "^2.1.7",
    "requirejs": "^2.1.22",
    "uglifyify": "~3.0.1",
    "watch": "~0.16.0"
  },
  "discussion": "https://groups.google.com/forum/#!forum/nbpresent",
  "eslintConfig": {
    "env": {
      "browser": true,
      "es6": true
    },
    "extends": "eslint:recommended",
    "parser": "babel-eslint",
    "rules": {
      "strict": 0
    }
  },
  "homepage": "https://github.com/Anaconda-Platform/nbpresent",
  "license": "BSD-3-Clause",
  "main": "index.js",
  "name": "nbpresent",
  "repository": {
    "type": "git",
    "url": "git://github.com/Anaconda-Platform/nbpresent.git"
  },
  "scripts": {
    "all": "npm run dist && npm run lint && npm run test && npm run docs",
    "build": "python -m nbpresent.tasks.build",
    "build:deps": "python -m nbpresent.tasks.deps",
    "build:dev": "python -m nbpresent.tasks.build dev",
    "build:index": "python -m nbpresent.tasks.index",
    "build:less": "python -m nbpresent.tasks.less",
    "build:notebook": "python -m nbpresent.tasks.notebook",
    "build:release": "python -m nbpresent.tasks.build release",
    "build:requirejs": "python -m nbpresent.tasks.requirejs",
    "build:standalone": "python -m nbpresent.tasks.standalone",
    "clean": "python -m nbpresent.tasks.clean",
    "docs": "npm run docs:clean && npm run docs:esdoc && npm run docs:sphinx && npm run docs:notebooks",
    "docs:clean": "rm -rf nbpresent/static/docs",
    "docs:esdoc": "esdoc -c .esdoc",
    "docs:notebooks": "nbpresent -i notebooks/index.ipynb -o nbpresent/static/index.html",
    "docs:sphinx": "sphinx-apidoc -f -o ./sphinx/source/auto nbpresent && cd sphinx && make html && mv -f build/html ../nbpresent/static/docs/sphinx",
    "less": "python -m nbpresent.tasks.less",
    "lint": "npm run lint:eslint && npm run lint:flake8",
    "lint:eslint": "eslint --ext es6 ./src",
    "lint:flake8": "flake8 nbpresent setup.py sphinx",
    "pkg:conda": "conda build conda.recipe -c javascript -c mutirri -c cpcloud -c anaconda-nb-extensions -c bokeh -c wakari",
    "pkg:pypi": "python setup.py register -r pypitest && python setup.py sdist && python setup.py bdist_wheel && python setup.py sdist upload -r pypitest && python setup.py bdist_wheel upload -r pypitest",
    "pkg:pypi:release": "python setup.py register -r pypi && python setup.py sdist && python setup.py bdist_wheel && python setup.py sdist bdist_wheel upload -r pypi",
    "readme": "jupyter nbconvert notebooks/README.ipynb --to=rst --stdout > README.rst && jupyter nbconvert notebooks/README.ipynb --to=markdown --stdout > README.md",
    "test": "python -m nose nbpresent.tests",
    "watch": "watch 'npm run build:dev' src",
    "watch:test": "watch 'npm run test' ./nbpresent/static/nbpresent/js"
  },
  "version": "3.0.2"
}

},{}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),NS=exports.NS="nbpresent",BaseActions=exports.BaseActions=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.keyActions=n,this.register()}return _createClass(e,[{key:"register",value:function(){}},{key:"push",value:function(){}},{key:"pop",value:function(){}}]),e}();

},{}],4:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotebookActions=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),_namespace=require("base/js/namespace"),_namespace2=_interopRequireDefault(_namespace),_base=require("./base"),NotebookActions=exports.NotebookActions=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"register",value:function(){var e=this;this._kbm=_namespace2.default.notebook.keyboard_manager,this.keyActions.map(function(t){var o=t.name,n=t.value;e._kbm.actions.register(n,o,_base.NS)})}},{key:"push",value:function(){var e=this;this.keyActions.map(function(t){var o=t.name,n=t.keys;(void 0===n?[]:n).map(function(t){e._kbm.command_shortcuts.add_shortcut(t,_base.NS+":"+o)})})}},{key:"pop",value:function(){var e=this;this.keyActions.map(function(t){var o=t.keys,n=void 0===o?[]:o,r=t.name;n.map(function(t){e._kbm.command_shortcuts.get_shortcut(t)===_base.NS+":"+r&&e._kbm.command_shortcuts.remove_shortcut(t)})})}}]),t}(_base.BaseActions);

},{"./base":3,"base/js/namespace":"base/js/namespace"}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseCellManager=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_nbpresentDeps=require("nbpresent-deps"),_logger=require("../logger"),_parts=require("../parts"),_THUMBS={},BaseCellManager=exports.BaseCellManager=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getCells",value:function(){throw Error("Not Implemented")}},{key:"getPart",value:function(e,t){var r=this.getCells()[e.cell];if(!r&&!t)return null;var n=_nbpresentDeps.d3.select(t||r.element[0]);return e.part===_parts.PART.whole?n:n.select(_parts.PART_SELECT[e.part])}},{key:"clearThumbnails",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=Object.keys(_THUMBS);t.length&&(r=t.map(function(t){return e.contentKey(t)})),r.map(function(e){delete _THUMBS[e]})}},{key:"contentKey",value:function(e){return e.cell+"-"+e.part}},{key:"thumbnail",value:function(e){var t=this.getPart(e);return t=t?t.node():null,t?(0,_nbpresentDeps.html2canvas)(t).then(function(e){return{canvas:e,uri:e.toDataURL("image/png"),width:e.width,height:e.height}},function(t){return _logger.log.error("thumbnail error",e,t)}):Promise.reject(e)}}]),e}();

},{"../logger":19,"../parts":24,"nbpresent-deps":"nbpresent-deps"}],6:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotebookCellManager=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_nbpresentDeps=require("nbpresent-deps"),_namespace=require("base/js/namespace"),_namespace2=_interopRequireDefault(_namespace),_parts=require("../parts"),_base=require("./base"),NotebookCellManager=exports.NotebookCellManager=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getCells",value:function(){return _namespace2.default.notebook.get_cells().reduce(function(e,t){return t.metadata.nbpresent&&(e[t.metadata.nbpresent.id]=t),e},{})}},{key:"cellId",value:function(e){try{return e.metadata.nbpresent.id}catch(e){return null}}},{key:"cellPartGeometry",value:function(){var e=this,t=this;return _namespace2.default.notebook.get_cells().map(function(r){var n=e.cellId(r);return _nbpresentDeps.d3.entries(_parts.PART_SELECT).map(function(e){return t.getPart({cell:n,part:e.key},r.element[0]).reduce(function(t,a){var o=a[0],u=o&&o.getBoundingClientRect();return u&&u.height&&t.push({cell:{key:n,value:r},part:e.key,bb:u}),t},[])})})}}]),t}(_base.BaseCellManager);

},{"../parts":24,"./base":5,"base/js/namespace":"base/js/namespace","nbpresent-deps":"nbpresent-deps"}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkOverlay=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_parts=require("../parts"),LinkOverlay=exports.LinkOverlay=function(){function e(t,n){_classCallCheck(this,e),this.manager=t,this.done=n,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.$body=_nbpresentDeps.d3.select("body"),this.$header=this.$body.select("#header"),this.$site=this.$body.select("#site"),this.$ui=this.$body.select("#notebook-container").append("div").classed({"nbp-link-overlay":1}),this.update(),_nbpresentDeps._.defer(function(){return e.$body.classed({"nbp-linking":1})})}},{key:"destroy",value:function(){var e=this;this.$body.classed({"nbp-linking":0}),_nbpresentDeps._.delay(function(){return e.$ui.remove()},300)}},{key:"update",value:function(){var e=this,t=this.$header.property("clientHeight")-this.$site.property("scrollTop"),n=_nbpresentDeps._.chain(this.manager.cellPartGeometry()).flatten().filter(function(e){return e.bb}).value(),r=this.$ui.selectAll(".nbp-part-overlay").data(n);r.enter().append("button").classed({"btn nbp-part-overlay":1}).on("click",function(t){var n=t.part,r=t.cell;return e.done({part:n,cell:r.value})}).text(function(e){return e.part}),r.classed({"nbp-part-overlay-source":function(e){return e.part===_parts.PART.source},"nbp-part-overlay-outputs":function(e){return e.part===_parts.PART.outputs},"nbp-part-overlay-widgets":function(e){return e.part===_parts.PART.widgets},"nbp-part-overlay-whole":function(e){return e.part===_parts.PART.whole}}),r.style({top:function(e){return e.bb.top-t+"px"},height:function(e){return e.bb.height-1+"px"}}),r.exit().remove()}}]),e}();

},{"../parts":24,"nbpresent-deps":"nbpresent-deps"}],8:[function(require,module,exports){
"use strict";function bbox(){function e(e){var t=_nbpresentDeps.d3.behavior.drag().origin(function(e,t){return{x:this.getAttribute("x"),y:this.getAttribute("y")}}).on("drag.lbbbox",o).on("dragstart.lbbbox",r).on("dragend.lbbbox",_);return e.call(t),e.on("mousemove.lbbbox",n),e.on("mouseleave.lbbbox",s),e}function t(e,t){return Math.max(t[0],Math.min(e,t[1]))}function i(e,t){var i="",n=+t.getAttribute("x"),s=+t.getAttribute("y"),r=+t.getAttribute("width"),_=+t.getAttribute("height");return e[1]<s+l.n?i+="n":e[1]>s+_-l.s&&(i+="s"),e[0]<n+l.w?i+="w":e[0]>n+r-l.e&&(i+="e"),""==i&&(d.indexOf("x")>-1||d.indexOf("y")>-1)?i="M":-1==d.indexOf(i)&&(i=""),i}function n(e,t){if(void 0===this.__resize_action__&&a){var n=i(_nbpresentDeps.d3.mouse(this),this),s=d.indexOf("x"),r=d.indexOf("y");document.body.style.cursor="M"==n&&1/(s*r)<0?s>=0?a.x:a.y:a[n]||null}}function s(e,t){void 0===this.__resize_action__&&a&&(document.body.style.cursor=null)}function r(e,t){this.__resize_action__=i(_nbpresentDeps.d3.mouse(this),this),this.__ow__=+this.getAttribute("width"),this.__oh__=+this.getAttribute("height"),"M"==this.__resize_action__?b.dragstart&&b.dragstart.call(this,e,t):this.__resize_action__.length&&b.resizestart&&b.resizestart.call(this,e,t)}function _(e,t){"M"==this.__resize_action__?b.dragend&&b.dragend.call(this,e,t):this.__resize_action__.length&&b.resizeend&&b.resizeend.call(this,e,t),delete this.__resize_action__,delete this.__ow__,delete this.__oh__,a&&(document.body.style.cursor=null)}function o(e,i){if("M"==this.__resize_action__){if(b.dragmove&&!1===b.dragmove.call(this,e,i))return}else if(this.__resize_action__.length&&b.resizemove&&!1===b.resizemove.call(this,e,i))return;var n="function"==typeof u?u.call(this,e,i):u,s="function"==typeof h?h.call(this,e,i):h;if("M"==this.__resize_action__)d.indexOf("x")>-1&&0!=_nbpresentDeps.d3.event.dx&&this.setAttribute("x",t(t(_nbpresentDeps.d3.event.x,n)+this.__ow__,n)-this.__ow__),d.indexOf("y")>-1&&0!=_nbpresentDeps.d3.event.dy&&this.setAttribute("y",t(t(_nbpresentDeps.d3.event.y,s)+this.__oh__,s)-this.__oh__);else{var r=+this.getAttribute("x"),_=+this.getAttribute("y");if(/^n/.test(this.__resize_action__)){var o=_+ +this.getAttribute("height"),l=t(t(_nbpresentDeps.d3.event.y,s),[-1/0,o-1]);this.setAttribute("y",l),this.setAttribute("height",o-l)}else if(/^s/.test(this.__resize_action__)){var o=t(_nbpresentDeps.d3.event.y+this.__oh__,s);this.setAttribute("height",t(o-_,[1,1/0]))}if(/w$/.test(this.__resize_action__)){var a=r+ +this.getAttribute("width"),c=t(t(_nbpresentDeps.d3.event.x,n),[-1/0,a-1]);this.setAttribute("x",c),this.setAttribute("width",a-c)}else if(/e$/.test(this.__resize_action__)){var a=t(_nbpresentDeps.d3.event.x+this.__ow__,n);this.setAttribute("width",t(a-r,[1,1/0]))}}}var u=null,h=null,l=null,d=null,a=null,b={dragstart:null,dragmove:null,dragend:null,resizestart:null,resizemove:null,resizeend:null};return e.xextent=function(t){return arguments.length?(u=!1!==t?t:[-1/0,1/0],e):u},e.xextent(!1),e.yextent=function(t){return arguments.length?(h=!1!==t?t:[-1/0,1/0],e):h},e.yextent(!1),e.handlesize=function(t){return arguments.length?(l=+t?{w:t,n:t,e:t,s:t}:t,e):l},e.handlesize(3),e.cursors=function(t){return arguments.length?(a=!0!==t?t:{M:"move",x:"col-resize",y:"row-resize",n:"n-resize",e:"e-resize",s:"s-resize",w:"w-resize",nw:"nw-resize",ne:"ne-resize",se:"se-resize",sw:"sw-resize"},e):a},e.cursors(!0),e.directions=function(t){return arguments.length?(d=!0!==t?t:["n","e","s","w","nw","ne","se","sw","x","y"],e):d},e.directions(!0),e.on=function(t,i){return void 0===i?b[t]:(b[t]=i,e)},e.infect=function(t){return t.call(e),e},e.disinfect=function(t){return t.on(".drag",null),t.on(".lbbbox",null),e},e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.bbox=bbox;var _nbpresentDeps=require("nbpresent-deps");

},{"nbpresent-deps":"nbpresent-deps"}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Editor=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_nbpresentDeps=require("nbpresent-deps"),_parts=require("./parts"),_regiontree=require("./regiontree"),_notebook=require("./cells/notebook"),_notebook2=require("./actions/notebook"),_d=require("./d3.bbox"),DIRS=["left","right","up","down"],DIR_ATTR={left:"x",right:"x",up:"y",down:"y"},DIR_DELTA={left:-1,right:1,up:-1,down:1},Editor=exports.Editor=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.destroyed=!1,this.slide=t,this.selectedRegion=n,this.regions=this.slide.select("regions"),this.cellManager=new _notebook.NotebookCellManager,this.x=_nbpresentDeps.d3.scale.linear(),this.y=_nbpresentDeps.d3.scale.linear(),this.initUI(),this.sidebar=new _regiontree.RegionTree(this.slide,this.selectedRegion),this.initBehavior().initActions(),this.update(),this.watcher=this.slide.tree.watch({slide:this.slide,selectedRegion:this.selectedRegion,regions:this.regions}),this.watcher.on("update",function(){return i.destroyed||i.update()})}return _createClass(e,[{key:"destroy",value:function(){this.deinitActions(),this.sidebar.destroy(),this.$ui.remove(),this.watcher.release(),this.destroyed=!0}},{key:"initBehavior",value:function(){return this.bbox=(0,_d.bbox)(),this}},{key:"initUI",value:function(){return this.$body=_nbpresentDeps.d3.select("body"),this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({"nbp-editor":1}),this.$bg=this.$ui.append("div").classed({slide_bg:1}),this.$svg=this.$bg.append("svg"),this.$defs=this.$svg.append("defs"),this}},{key:"padding",value:function(){return 20}},{key:"aspectRatio",value:function(){return 16/9}},{key:"bbEnd",value:function(e){var t=_nbpresentDeps.d3.select(e),n=this.selectedRegion.get()||{},i=n.region,s={x:this.x,y:this.y,width:this.x,height:this.y};i&&this.slide.merge(["regions",i,"attrs"],_nbpresentDeps.d3.entries(s).reduce(function(e,n){var i=n.key,s=n.value;return e[i]=s.invert(t.attr(i)),e},{}))}},{key:"hasContent",value:function(e){return function(t){return(t.value.content||{}).part===e}}},{key:"update",value:function(){var e=this,t=this,n=this.$ui.node().getBoundingClientRect(),i=n.width-2*this.padding(),s=i/this.aspectRatio(),r=_nbpresentDeps.d3.entries(this.regions.get()||{}),o=this.selectedRegion.get()||{},a=o.region,h=this.x,u=this.y;s>n.height+2*this.padding()&&(s=n.height-2*this.padding(),i=s*this.aspectRatio()),this.x.range([0,i]),this.y.range([0,s]),this.$bg.style({left:(n.width-i)/2+"px",top:(n.height-s)/2+"px",width:i+"px",height:s+"px"}),this.$svg.attr({width:i,height:s}),r.sort(function(e,t){return a===e.key?1:a===t.key?-1:(e.value.attrs.z||0)-(t.value.attrs.z||0)});var c=this.$svg.selectAll(".nbp-region").data(r,function(e){return e.key}).order();c.enter().append("g").classed({"nbp-region":1}).call(function(e){e.append("rect").classed({"nbp-region-bg":1}).each(function(){t.bbox.infect(_nbpresentDeps.d3.select(this)).on("dragend",function(e){t.bbEnd(this,e)}).on("resizeend",function(e){t.bbEnd(this,e)})})}).on("mousedown",function(t){e.selectedRegion.set({slide:e.slide.get("id"),region:t.key})}),c.classed({active:function(e){return e.key===a},"nbp-content-source":this.hasContent(_parts.PART.source),"nbp-content-outputs":this.hasContent(_parts.PART.outputs),"nbp-content-widgets":this.hasContent(_parts.PART.widgets),"nbp-content-whole":this.hasContent(_parts.PART.whole),"nbp-content-null":this.hasContent(null)}).select(".nbp-region-bg").transition().attr({width:function(e){return h(e.value.attrs.width)},height:function(e){return u(e.value.attrs.height)},x:function(e){return h(e.value.attrs.x)},y:function(e){return u(e.value.attrs.y)}}),c.filter(function(e){return!e.value.content}).select(".nbp-region-bg").style({fill:null}),c.exit().transition().style({opacity:0}).remove()}},{key:"cycleRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.selectedRegion.get()||{},n=t.region,i=_nbpresentDeps.d3.entries(this.regions.get()||{}),s=i.map(function(e,t){var i=e.key;e.value;return i===n?t:-1}).filter(function(e){return-1!==e})[0];s+=e,-1===s&&(s=i.length-1),this.selectedRegion.set(["region"],i[s%i.length].key)}},{key:"moveRegion",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=this.selectedRegion.get()||{},s=i.region,r=DIR_ATTR[t],o=DIR_DELTA[t];return s&&this.regions.set([s,"attrs",r],this.regions.get([s,"attrs",r])+o*n),this}},{key:"initActions",value:function(){var e=this,t=[{keys:["shift-tab"],name:"prev-region",value:{icon:"caret-square-o-left",help:"select previous region",handler:function(){return e.cycleRegion()}}},{name:"next-region",keys:["tab"],value:{icon:"caret-square-o-right",help:"select next region",handler:function(){return e.cycleRegion(-1)}}}];return DIRS.map(function(n){t.push({name:"nudge-region-"+n,keys:[n],value:{icon:"arrow-circle-o-"+n,help:"nudge current region "+n,handler:function(t){return e.moveRegion(t,n,.01)}}}),t.push({name:"move-region-"+n,keys:["shift-"+n],value:{icon:"arrow-circle-o-"+n,help:"move current region "+n,handler:function(t){return e.moveRegion(t,n,.1)}}})}),this.actions=new _notebook2.NotebookActions(t),this.actions.push(),this}},{key:"deinitActions",value:function(){return this.actions&&this.actions.pop(),this}}]),e}();

},{"./actions/notebook":4,"./cells/notebook":6,"./d3.bbox":8,"./parts":24,"./regiontree":27,"nbpresent-deps":"nbpresent-deps"}],10:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Helper=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_package=require("../package"),_intro=require("./tours/intro"),_slideEditor=require("./tours/slide-editor"),_sorter=require("./tours/sorter"),TOURS={Intro:_intro.IntroTour,Slides:_sorter.SorterTour,Editor:_slideEditor.SlideEditorTour},COMMUNITY={Discuss:["envelope",_package.PKG.discussion],Chat:["comment",_package.PKG.chat],Contribute:["code-fork",_package.PKG.homepage],Bugs:["bug",_package.PKG.bugs.url]},Helper=exports.Helper=function(){function e(t,n){var r=this,a=n.mode;_classCallCheck(this,e),this.tree=t,this.mode=a,this.initUI(),_nbpresentDeps._.delay(function(){return r.$body.classed({"nbp-helping":1})},10)}return _createClass(e,[{key:"initUI",value:function(){this.$body=_nbpresentDeps.d3.select("body"),this.$ui=this.$body.append("div").classed({"nbp-helper":1}),this.$h2=this.$ui.append("h2").text("nbpresent "),this.$h2.append("hr"),this.$h2.append("a").classed({"nbp-version":1}).attr({href:_package.PKG.homepage+"#"+_package.PKG.version}).text(_package.PKG.version),this.$h1=this.$ui.append("h1").append("i").classed({"fa fa-gift fa-3x":1}),this.$ui.append("footer").classed({"nbp-legal":1}).call(function(e){e.append("span").text("Â©2016 "),e.append("a").attr({href:"https://continuum.io"}).text("Continuum Analytics"),e.append("p").call(function(e){e.append("span").text("nbpresent is "),e.append("a").attr({href:"https://spdx.org/licenses/"+_package.PKG.license}).text("free software")})}),this.initTours().initCommunity().update()}},{key:"initCommunity",value:function(){return this.$ui.append("h2").text("Community"),this.$ui.selectAll(".nbp-community").data(_nbpresentDeps.d3.entries(COMMUNITY)).enter().append("a").classed({"btn btn-default nbp-community":1}).attr({href:function(e){return e.value[1]},target:"_blank"}).call(function(e){e.append("i").attr({class:function(e){return"fa fa-"+e.value[0]+" fa-2x"}}),e.append("label").text(function(e){return e.key})}),this}},{key:"initTours",value:function(){var e=this;this.$tours=this.$ui.append("div").classed({"nbp-tours":1}),this.$tours.append("h2").text("Guided Tours");var t=this.$tours.selectAll(".nbp-tour-launcher").data(_nbpresentDeps.d3.entries(TOURS));return t.enter().append("a").classed({"btn btn-default nbp-tour-launcher":1}).call(function(e){return["i","label"].map(function(t){return e.append(t)})}).on("click",function(t){var n=t.value;return e.startTour(n)}),t.select("i").attr("class",function(e){return"fa fa-2x fa-"+e.value.icon()}),t.select("label").text(function(e){return" "+e.key}),this}},{key:"startTour",value:function(e){var t=new e(this.mode);t.init(),t.start(!0),this.mode.mode.set(null)}},{key:"update",value:function(){return this}},{key:"destroy",value:function(){var e=this;this.$body.classed({"nbp-helping":0}),_nbpresentDeps._.delay(function(){return e.$ui.remove()},500)}}]),e}();

},{"../package":23,"./tours/intro":12,"./tours/slide-editor":13,"./tours/sorter":14,"nbpresent-deps":"nbpresent-deps"}],11:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TourBase=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_bootstraptour=require("bootstraptour"),_bootstraptour2=_interopRequireDefault(_bootstraptour),_nbpresentDeps=require("nbpresent-deps"),TourBase=exports.TourBase=function(){function e(t){_classCallCheck(this,e),this.mode=t}return _createClass(e,[{key:"init",value:function(){var e=this.options();return e.steps=this.steps(),this.tour=new _bootstraptour2.default(e),this.tour.init(),this}},{key:"start",value:function(){return this.tour.start(),this}},{key:"restart",value:function(){return this.tour.restart(),this}},{key:"end",value:function(){return this.tour.end(),this}},{key:"options",value:function(){return{name:"nbpresent",duration:5e3,storage:!1,debug:!0,orphan:!0}}},{key:"fakeHover",value:function(e,t){this.mode.presenter.speaker.hint(),_nbpresentDeps.d3.selectAll(e).classed({"nbp-fake-hover":t})}}],[{key:"icon",value:function(){return"question-circle"}}]),e}();

},{"bootstraptour":"bootstraptour","nbpresent-deps":"nbpresent-deps"}],12:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntroTour=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_icons=require("../../icons"),_base=require("./base"),IntroTour=exports.IntroTour=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"steps",value:function(){return[{element:"#nbp-app-btn",title:"Thanks for using nbpresent!",placement:"bottom",content:"You just started Authoring a presentation with nbpresent"},{element:"#nbp-app",title:"App Bar",placement:"left",content:"When Authoring, you control the content and style of your presentation. It also activates several special editing keyboard shortcuts"},{element:"#nbp-app-btn",title:"Stop Authoring",placement:"bottom",content:"Clicking this again stops Authoring, and removes all keyboard shortcuts"},{element:"#nbp-present-btn",placement:"left",title:"Simply Presenting",content:"If you just want to run your presentation, without any Authoring tools, you can start Presenting directly."},{element:".nbp-app-bar .fa-"+_icons.ICON.presenter,placement:"left",title:"Presenting/Authoring",content:"Once we've made some slides, we'll start Presenting, where we can use most Notebook functions with the Theme we have defined, as well as customize slides on the fly."},{element:".nbp-app-bar .fa-"+_icons.ICON.slides,placement:"left",title:"Slides",content:"Slides, made of Regions linked to Cell Parts are the bread and butter of any presentation, and can be imported, created, linked, reordered, and edited here."},{element:".nbp-app-bar .fa-"+_icons.ICON.themer,placement:"left",title:"Theming",content:"Theming lets you select colors, typography, and backgrounds to make distinctive presentations."},{element:"#save-notbook",placement:"bottom",title:"Saving",content:"Whenever you save your Notebook, all your presentation data will be stored right in the Notebook .ipynb file"},{element:"#file_menu",placement:"bottom",title:"Downloading",content:"After you've made a presentation, you can download it as an HTML page by selecting Download As: Presentation (.html)"},{element:".nbp-app-bar .fa-"+_icons.ICON.help,placement:"left",title:"Help",content:"Activate Help at any time to try other tours, connect with the nbpresent developers and community, and other information. Thanks again for using nbpresent."}]}}],[{key:"icon",value:function(){return _icons.ICON.intro}}]),t}(_base.TourBase);

},{"../../icons":15,"./base":11}],13:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SlideEditorTour=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_nbpresentDeps=require("nbpresent-deps"),_icons=require("../../icons"),_notebook=require("../../mode/notebook"),_base=require("./base"),SlideEditorTour=exports.SlideEditorTour=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"steps",value:function(){var e=this;return[{element:".nbp-app-bar .fa-"+_icons.ICON.slides,title:"So You Made Some Slides",content:"Once you've made a few slides, you'll likely need to customize them",placement:"left",onShown:function(){e.mode.mode.set(_notebook.SORTER),_nbpresentDeps._.delay(function(){return e.mode.sorter.appendSlide()},500)}},{element:".nbp-deck-toolbar .fa-"+_icons.ICON.editor,title:"Editing Slides",content:"Once you have selected a slide, you can activate the Slide Editor",placement:"left",onHide:function(){return _nbpresentDeps._.defer(function(){e.mode.sorter.editSlide()})}},{element:".nbp-editor .slide_bg",placement:"top",title:"Region Editor",content:"This is the Region editor. You can click and drag Regions around and resize them."},{element:".nbp-regiontree",placement:"right",title:"Region Tree",content:"This is the Region tree. It lets you reorder Regions and see the details of how your Regions will show their linked Parts."},{element:".nbp-regiontree > .nbp-toolbar .fa-"+_icons.ICON.addRegion,placement:"right",title:"Add Region",content:"You can add new regions",onShow:function(){return _nbpresentDeps._.defer(function(){return e.mode.sorter.editor.sidebar.addRegion()})}},{element:".region_attr:first-of-type .attr_name",placement:"right",title:"Attribute Editor",content:"All of the properties of a region can be edited here"},{element:".nbp-regiontree .btn-toolbar .fa-"+_icons.ICON.treemap,placement:"right",title:"Data Layouts",content:"In addition to manually moving regions around, you can use other Layouts, like this Treemap, which will fill the slide",onHidden:function(){e.mode.sorter.editor.sidebar.layout("treemap")}},{element:".nbp-regiontree > .nbp-toolbar .fa-"+_icons.ICON.addRegion,placement:"right",title:"More Regions",content:"More regions will be added with a weight of 1",onShow:function(){return _nbpresentDeps._.defer(function(){return e.mode.sorter.editor.sidebar.addRegion()})}},{element:".region_attr .fa-"+_icons.ICON.treemap,placement:"right",title:"Tree Weight",content:"This new value lets you make a Region bigger or smaller based on relative Weight"},{element:".nbp-regiontree .btn-toolbar .fa-"+_icons.ICON.grid,placement:"right",title:"12 Grid",content:"The Grid is a comprimise between Free layout and Treemap layout, and rounds all the values to a factor of 12",onShow:function(){return e.mode.sorter.editor.sidebar.layout("grid")}},{title:"FIN",content:"Thank you for using nbpresent!"}]}}],[{key:"icon",value:function(){return _icons.ICON.editor}}]),t}(_base.TourBase);

},{"../../icons":15,"../../mode/notebook":22,"./base":11,"nbpresent-deps":"nbpresent-deps"}],14:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SorterTour=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_nbpresentDeps=require("nbpresent-deps"),_namespace=require("base/js/namespace"),_namespace2=_interopRequireDefault(_namespace),_parts=require("../../parts"),_icons=require("../../icons"),_notebook=require("../../mode/notebook"),_base=require("./base"),SorterTour=exports.SorterTour=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"steps",value:function(){var e=this;return[{element:".nbp-app-bar .fa-"+_icons.ICON.slides,title:"Slides",content:"Slides make up a presentation",placement:"left",onHide:function(){return e.mode.mode.set(_notebook.SORTER)}},{element:".nbp-app-bar .fa-"+_icons.ICON.slides,title:"Slides",content:"Clicking Slides toggles the sorter view",placement:"left"},{element:".nbp-deck-toolbar .fa-"+_icons.ICON.addSlide,title:"Deck Toolbar",content:"Let's create a new slide",placement:"left",onHide:function(){return(0,_nbpresentDeps.$)(".nbp-deck-toolbar .fa-"+_icons.ICON.addSlide).click()}},{element:".from_template",title:"Template Library",position:"top",content:"You can pick from some existing templates..."},{element:".from_slide",title:"Reuse Slide as Template",position:"top",content:"Or copy an existing slide"},{title:"Cells",position:"top",content:"Here's are some new cells the Tour will play with",onShow:function(){var e=_namespace2.default.notebook.insert_cell_at_index("code",0);_namespace2.default.notebook.insert_cell_at_index("markdown",0).code_mirror.setValue("# Hello, _nbpresent_!"),e.code_mirror.setValue("import nbpresent\nnbpresent.__version__")}},{element:".nbp-template-library .slide:nth-of-type(1)",title:"Simple Template",position:"top",content:"Let's use this one",onNext:function(){return e.mode.sorter.templatePicked(_nbpresentDeps.d3.select(".nbp-template-library .slide:nth-of-type(1)").datum())}},{element:".nbp-slides-wrap .slide:last-child",placement:"top",title:"Look at the slide, just look at it",content:"Here's our new slide"},{element:".nbp-slides-wrap .slide:last-child .nbp-region",placement:"top",title:"Region",onShow:function(){var e=_nbpresentDeps.d3.select(".nbp-slides-wrap .slide:last-child .nbp-region");e.on("click")(e.datum())},content:"It has one Region"},{element:".nbp-region-toolbar .fa-"+_icons.ICON.link,placement:"top",title:"Linking a Region to a Cell Part",content:"Each Region can be linked to a single Cell Part",onHide:function(){return e.mode.sorter.linkContentOverlay()}},{element:".nbp-region-toolbar .fa-"+_icons.ICON.link,placement:"top",title:"Link Overlay",content:"The Link Overlay shows all of the parts available"},{element:".nbp-link-overlay .nbp-part-overlay-source:first-of-type",placement:"right",title:"Cell Part: Source",content:"Source, such as code and Markdown text"},{element:".nbp-link-overlay .nbp-part-overlay-outputs:first-of-type",placement:"right",title:"Cell Part: Outputs",content:"Outputs, such as rich figures and script results"},{element:".nbp-link-overlay .nbp-part-overlay-widgets:first-of-type",placement:"bottom",title:"Cell Part: Widgets",content:"If you use them, all the Widgets of a cell can be shown together"},{element:".nbp-link-overlay .nbp-part-overlay-whole:first-of-type",placement:"left",title:"Cell Part: Whole",content:"Finally, a Whole Cell (including its Source, Widgets, and Outputs) can be linked to a single region"},{element:".cell.selected",placement:"left",title:"Linking an Input Part",content:"Let's use this cell input",onHide:function(){return e.mode.sorter.linkContent(_parts.PART.source)}},{element:".nbp-slides-wrap .slide:last-child .nbp-region",placement:"top",title:"Part Thumbnail",content:"A part thumbnail might look a little funny, as it can only be reliably updated when a linked Cell Part is on-screen when you mouse over it, but you should usually be able to get an idea of what you're seeing."},{element:".nbp-region-toolbar .fa-"+_icons.ICON.unlink,placement:"top",title:"Cell Part: Unlinking",content:"Unlinking removes the connection between a region and a cell part, without deleting either one."},{element:".nbp-region-toolbar .fa-"+_icons.ICON.trash,placement:"top",title:"Region: Trashing",content:"Trashing a Region permanently deletes it, without affecting any linked Cell Part"},{title:"Achievement Unlocked: Presentation",content:"We're ready to look at the presentation!"},{element:"#nbp-present-btn",title:"Great, let's have a look",placement:"bottom",content:"Clicking this button brings up the Presenter",onNext:function(){e.mode.present(),e.mode.mode.set(null)}},{title:"Looks great!",content:"Your slide is still made up of your notebook"},{element:".nbp-present",placement:"top",title:"It's still a Notebook",content:"This is still an editable input area"},{element:".nbp-present",placement:"bottom",title:"Part Execution",content:"Inputs can even be executed with keyboard shortcuts like ctrl+enter"},{element:".nbp-presenter-toolbar .fa-step-forward",title:"Go forward",content:"Click here to go to the next Slide",placement:"top",onShown:function(){return e.fakeHover(".nbp-presenter-toolbar",1)},onHidden:function(){return e.fakeHover(".nbp-presenter-toolbar",0)}},{element:".nbp-presenter-toolbar .fa-step-backward",title:"Go back",content:"Clicking here to go back to the previous slide",placement:"top",onShown:function(){return e.fakeHover(".nbp-presenter-toolbar",1)},onHidden:function(){return e.fakeHover(".nbp-presenter-toolbar",0)}},{element:".nbp-presenter-toolbar .fa-fast-backward",title:"Go back to the beginning",content:"Clicking here to go back to the first Slide",placement:"top",onShown:function(){return e.fakeHover(".nbp-presenter-toolbar",1)},onHidden:function(){return e.fakeHover(".nbp-presenter-toolbar",0)}},{element:".nbp-presenter-toolbar .fa-book",title:"My work is done here",content:"Click here to go back to the Notebook",placement:"top",onShown:function(){return e.fakeHover(".nbp-presenter-toolbar",1)},onHidden:function(){return[e.fakeHover(".nbp-presenter-toolbar",0),e.mode.present(!1)]}}]}}],[{key:"icon",value:function(){return _icons.ICON.slides}}]),t}(_base.TourBase);

},{"../../icons":15,"../../mode/notebook":22,"../../parts":24,"./base":11,"base/js/namespace":"base/js/namespace","nbpresent-deps":"nbpresent-deps"}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ICON=exports.ICON={showRules:"adjust",addRegion:"plus-square",addSlide:"plus-square-o",addTheme:"plus-circle",defaultThemeActive:"star",defaultTheme:"star-o",editor:"edit",editRegion:"edit",grid:"th",help:"question-circle",intro:"home",link:"link",manual:"arrows",nbpresent:"gift",presenter:"youtube-play",preview:"eye-slash",slides:"film",themer:"paint-brush",trash:"trash",treemap:"tree",unlink:"unlink"};

},{}],16:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GridLayout=void 0;var _slicedToArray=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)},_nbpresentDeps=require("nbpresent-deps"),_manual=require("./manual"),KEY="grid",PAD="pad",TOLERANCE=.001,GridLayout=exports.GridLayout=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"key",value:function(){return KEY}},{key:"attrDefaults",value:function(){var e={};return e[PAD]=.01,e}},{key:"nice",value:function(e,t){var r=_slicedToArray(t,1),n=r[0],o=e._d,i=Math.round(12*o[n]),a=i/12;return Math.abs(a-o[n])>TOLERANCE&&(e[n]=a),e}},{key:"init",value:function(){var e=this;_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),_nbpresentDeps.d3.entries(this.slide.value.regions).map(function(t){var r=["slides",e.slide.key,"regions",t.key,"attrs"],n=_nbpresentDeps._.reduce([["x",0,10],["y",0,10],["width",1,11],["height",1,11]],e.nice,{_d:t.value.attrs},e);delete n._d,!_nbpresentDeps._.isEmpty(n)&&!_nbpresentDeps._.isEqual(n,_nbpresentDeps._.pick(t.value.attrs,"x","y","width","height",PAD))&&e.tree.merge(r,n)})}}],[{key:"clsKey",value:function(){return KEY}}]),t}(_manual.ManualLayout);

},{"./manual":17,"nbpresent-deps":"nbpresent-deps"}],17:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManualLayout=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),KEY="manual",ManualLayout=exports.ManualLayout=function(){function e(t,n,r){_classCallCheck(this,e),this.tree=t,this.slide=n,this.container=r}return _createClass(e,[{key:"regions",value:function(){return _nbpresentDeps.d3.entries(this.slide.value.regions)}},{key:"key",value:function(){return KEY}},{key:"attrDefaults",value:function(){return{x:.1,y:.1,width:.8,height:.8}}}],[{key:"clsKey",value:function(){return KEY}}]),_createClass(e,[{key:"init",value:function(){var e=this.container,t=e.clientWidth,n=e.clientHeight;this.x=_nbpresentDeps.d3.scale.linear().range([0,t]),this.y=_nbpresentDeps.d3.scale.linear().range([0,n]),this.initAttrs()}},{key:"initAttrs",value:function(){var e=this,t=this.regions();_nbpresentDeps.d3.entries(this.attrDefaults()).map(function(n){var r=n.key,a=n.value;t.filter(function(e){return null==e.value.attrs[r]}).map(function(t){var n={};n[r]=a,e.tree.merge(["slides",e.slide.key,"regions",t.key,"attrs"],n)})})}},{key:"update",value:function(e,t){var n=e.value.attrs,r=n.x,a=n.y,i=n.width,s=n.height,l=n.z,u=n.pad;l=l||0,u=u||0,t.style({height:parseInt(this.y(s-2*u))+"px",left:parseInt(this.x(r+u))+"px",top:parseInt(this.y(a+u))+"px",width:parseInt(this.x(i+2*u))+"px"})}},{key:"clean",value:function(e){e.style({left:null,top:null,width:null,height:null})}}]),e}();

},{"nbpresent-deps":"nbpresent-deps"}],18:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TreemapLayout=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)},_nbpresentDeps=require("nbpresent-deps"),_manual=require("./manual"),KEY="treemap",WEIGHT="treemap:weight",TreemapLayout=exports.TreemapLayout=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"attrDefaults",value:function(){var e={};return e[WEIGHT]=1,e}},{key:"key",value:function(){return KEY}},{key:"init",value:function(){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this);var e=this;this.treemap=_nbpresentDeps.d3.layout.treemap().size([100,100]).sticky(!0).value(function(e){return(e._value||{}).attrs[WEIGHT]||1});var r=_nbpresentDeps.d3.entries(this.slide.value.regions).map(function(e){return e._value=e.value,e});this.treemap({children:r}),r.map(function(t){var r=["slides",e.slide.key,"regions",t.key,"attrs"],n=e.tree.get(r),o={x:t.x/100,y:t.y/100,width:t.dx/100,height:t.dy/100},i=void 0;for(var a in o)n[a]!==o[a]&&((i||(i={}))[a]=o[a]);i&&e.tree.merge(r,i)})}}],[{key:"clsKey",value:function(){return KEY}}]),t}(_manual.ManualLayout);

},{"./manual":17,"nbpresent-deps":"nbpresent-deps"}],19:[function(require,module,exports){
"use strict";function setLevel(e){_logLevel=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setLevel=setLevel;var ERROR=exports.ERROR=0,WARN=exports.WARN=1,INFO=exports.INFO=2,LOG=exports.LOG=3,DEBUG=exports.DEBUG=4,_logLevel=DEBUG,log=exports.log={error:function(){var e;(e=console).error.apply(e,arguments)},warn:function(){var e;_logLevel>=WARN&&(e=console).warn.apply(e,arguments)},info:function(){var e;_logLevel>=INFO&&(e=console).info.apply(e,arguments)},log:function(){var e;_logLevel>=LOG&&(e=console).log.apply(e,arguments)},debug:function(){var e;_logLevel>=LOG&&(e=console).debug.apply(e,arguments)}};

},{}],20:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MiniSlide=exports.SLIDE_HEIGHT=exports.SLIDE_WIDTH=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_nbpresentDeps=require("nbpresent-deps"),_notebook=require("./cells/notebook"),_parts=require("./parts"),SLIDE_WIDTH=exports.SLIDE_WIDTH=160,SLIDE_HEIGHT=exports.SLIDE_HEIGHT=90,MiniSlide=function(){function e(t){_classCallCheck(this,e),this.selectedRegion=t,this.cellManager=new _notebook.NotebookCellManager,this._regions=function(e){return e.value.regions},this.update=this.update.bind(this),this.clicked=this.clicked.bind(this)}return _createClass(e,[{key:"width",value:function(){return SLIDE_WIDTH}},{key:"height",value:function(){return SLIDE_HEIGHT}}]),_createClass(e,[{key:"regions",value:function(e){return arguments.length?[this._regions=_nbpresentDeps.d3.functor(e),this][1]:this._regions}},{key:"hasContent",value:function(e){return function(t){return(t.region.value.content||{}).part==e}}},{key:"clicked",value:function(e){if(e=e||_nbpresentDeps.d3.select(this).datum(),this.selectedRegion){var t=this.selectedRegion.get()||{},n=t.slide,i=t.region;if(n===e.slide.key&&i===e.region.key)return this.selectedRegion.set(null);this.selectedRegion.set({slide:e.slide.key,region:e.region.key})}}},{key:"update",value:function(e){var t=this,n=this.cellManager;e.classed({"nbp-mini":1});var i=e.selectAll(".nbp-region").data(function(e){return _nbpresentDeps.d3.entries(t._regions(e)).map(function(t){return{slide:e,region:t}})});i.enter().append("div").classed({"nbp-region":1}).on("click",this.clicked).on("mouseover",function(e){var t=this,i=e.region;i.value.content?n.thumbnail(i.value.content).then(function(e){var n=e.uri;_nbpresentDeps.d3.select(t).style({"background-image":"url("+n+")"})}):_nbpresentDeps.d3.select(this).style({"background-image":null})}),i.exit().remove();var s=this.selectedRegion&&this.selectedRegion.get()||{},r=s.slide,o=s.region;i.classed({active:function(e){return e.slide.key===r&&e.region.key===o},"nbp-content-source":this.hasContent(_parts.PART.source),"nbp-content-outputs":this.hasContent(_parts.PART.outputs),"nbp-content-widgets":this.hasContent(_parts.PART.widgets),"nbp-content-whole":this.hasContent(_parts.PART.whole),"nbp-content-null":this.hasContent(null)}).style({width:function(e,n){return e.region.value.attrs.width*t.width(e,n)+"px"},height:function(e,n){return e.region.value.attrs.height*t.height(e,n)+"px"},left:function(e,n){return e.region.value.attrs.x*t.width(e,n)+"px"},top:function(e,n){return e.region.value.attrs.y*t.height(e,n)+"px"}})}}]),e}();exports.MiniSlide=MiniSlide;

},{"./cells/notebook":6,"./parts":24,"nbpresent-deps":"nbpresent-deps"}],21:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseMode=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),_tree=require("../tree"),_logger=require("../logger"),BaseMode=exports.BaseMode=function(){function e(t){_classCallCheck(this,e),this.root=t,this.tree=new _tree.Tree({slides:this.metadata().slides,themes:this.metadata().themes,root:this.root}).tree,this.slides=this.tree.select(["slides"]),this.themes=this.tree.select(["themes"]),this.log=_logger.log,this.init()}return _createClass(e,[{key:"init",value:function(){return this}}]),e}();

},{"../logger":19,"../tree":44}],22:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotebookMode=exports.MODES=exports.HELPER=exports.SORTER=exports.THEMER=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function e(t,n,r){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,n);if(void 0===s){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in s)return s.value;var i=s.get;if(void 0!==i)return i.call(r)},_namespace=require("base/js/namespace"),_namespace2=_interopRequireDefault(_namespace),_nbpresentDeps=require("nbpresent-deps"),_icons=require("../icons"),_toolbar=require("../toolbar"),_notebook=require("../presenter/notebook"),_sorter=require("../sorter"),_manager=require("../theme/manager"),_helper=require("../help/helper"),_base=require("./base"),_notebook2=require("../actions/notebook"),THEMER=exports.THEMER="themer",SORTER=exports.SORTER="sorter",HELPER=exports.HELPER="helper",MODES=exports.MODES=[THEMER,SORTER,HELPER],NotebookMode=exports.NotebookMode=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"init",value:function(){var e=this;_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.enabled=this.tree.select(["app","enabled"]),this.enabled.on("update",function(){return e.enabledChanged()}),this.mode=this.tree.select(["app","mode"]),this.mode.on("update",function(){return e.modeUpdated()});var n=_nbpresentDeps._.debounce(function(){return e.metadata(!0)},1e3);return[this.slides,this.themes].map(function(e){return(0,e.on)("update",n)}),this.slides.on("update",function(){return e.update()}),this.initActions(),this.initEvents(),this.$body=_nbpresentDeps.d3.select("body"),this.initUI()}},{key:"initUI",value:function(){var e=this;return this.$ui=this.$body.append("div").classed({"nbp-app":1}),this.appBar=(new _toolbar.Toolbar).btnClass("btn-default btn-lg").btnGroupClass("btn-group-vertical").tipOptions({container:"body",placement:"top"}),this.$appBar=this.$ui.append("div").classed({"nbp-app-bar":1}).datum([[{icon:_icons.ICON.presenter+" fa-2x",label:"Present",click:function(){return e.present()}}],[{icon:_icons.ICON.slides+" fa-2x",label:"Slides",click:function(){return e.mode.set(e.mode.get()===SORTER?null:SORTER)}}],[{icon:_icons.ICON.themer+" fa-2x",label:"Themes",click:function(){return e.mode.set(e.mode.get()===THEMER?null:THEMER)}}],[{icon:_icons.ICON.help+" fa-2x",label:"Help",click:function(){return e.mode.set(e.mode.get()===HELPER?null:HELPER)}}]]).call(this.appBar.update),this.update()}},{key:"initEvents",value:function(){var e=this;(0,_nbpresentDeps.$)(_namespace2.default.notebook.events).on("create.Cell",function(t,n){var r=n.cell;return e.cellCreated(r)})}},{key:"cellCreated",value:function(e){_nbpresentDeps._.defer(function(){delete e.metadata.nbpresent})}},{key:"initActions",value:function(){var e=this;return this.actions=new _notebook2.NotebookActions([{name:"show-sorter",value:{icon:"fa-"+_icons.ICON.nbpresent,help:"enable nbpresent",handler:function(){return e.show()}}},{name:"show-presentation",keys:["esc"],value:{icon:"fa-"+_icons.ICON.presenter,help:"show presentation",handler:function(){e.presenter.presenting.get()&&e.mode.get()?e.mode.set(null):e.present()}}}]),this}},{key:"deinitActions",value:function(){return this.actions&&this.actions.pop(),this}},{key:"update",value:function(){return this.$body.classed({"nbp-no-slides":!Object.keys(this.slides.get()||{}).length}),this}},{key:"metadata",value:function(e){var t=_namespace2.default.notebook.metadata;if(!e)return t.nbpresent||{slides:{},themes:{}};t.nbpresent={slides:this.slides.serialize(),themes:this.themes.serialize()}}},{key:"enabledChanged",value:function(){var e=this.enabled.get();e&&this.ensurePresenter(),this.$body.classed({"nbp-app-enabled":e}),_namespace2.default.page.show_site(),e?this.actions.push():this.actions&&this.actions.pop()}},{key:"modeClass",value:function(e){return{themer:_manager.ThemeManager,sorter:_sorter.Sorter,helper:_helper.Helper}[e]}},{key:"modeUpdated",value:function(){var e=this,t=this.mode.get();if(MODES.filter(function(n){return n!==t&&e[n]}).map(function(t){e[t].destroy(),delete e[t]}),!t||!this[t]){var n=this.modeClass(t);t&&(this[t]=new n(this.tree,{mode:this}))}}},{key:"show",value:function(){var e=!this.enabled.get();return this.enabled.set(e),e||this.mode.set(null),this}},{key:"ensurePresenter",value:function(){return this.presenter||(this.presenter=new _notebook.NotebookPresenter(this.tree)),this}},{key:"present",value:function(e){this.ensurePresenter();var t=arguments.length?e:!this.presenter.presenting.get();return this.presenter.presenting.set(t),this}}]),t}(_base.BaseMode);

},{"../actions/notebook":4,"../help/helper":10,"../icons":15,"../presenter/notebook":26,"../sorter":28,"../theme/manager":37,"../toolbar":43,"./base":21,"base/js/namespace":"base/js/namespace","nbpresent-deps":"nbpresent-deps"}],23:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PKG=void 0;var _package=require("../../package.json"),_package2=_interopRequireDefault(_package),PKG=exports.PKG=_package2.default;

},{"../../package.json":2}],24:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partColor=exports.PART_SELECT=exports.PART=void 0;var _nbpresentDeps=require("nbpresent-deps"),PART={source:"source",outputs:"outputs",widgets:"widgets",whole:"whole"},PART_SELECT={source:".inner_cell",outputs:".output_wrapper",widgets:".widget-area .widget-subarea",whole:null},partColor=_nbpresentDeps.d3.scale.ordinal().domain(_nbpresentDeps.d3.values(PART)).range(["blue","red","purple","orange"]);exports.PART=PART,exports.PART_SELECT=PART_SELECT,exports.partColor=partColor;

},{"nbpresent-deps":"nbpresent-deps"}],25:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Presenter=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_nbpresentDeps=require("nbpresent-deps"),_base=require("../speaker/base"),_base2=require("../theme/base"),_manual=require("../layout/manual"),_treemap=require("../layout/treemap"),_grid=require("../layout/grid"),_parts=require("../parts"),Presenter=exports.Presenter=function(){function e(t){var n=this;_classCallCheck(this,e),this.tree=t,this.slides=t.select(["sortedSlides"]),this.cellManager=this.makeCellManager(),this.speaker=this.makeSpeaker(this.tree),this.initUI(),this.themes=this.tree.select(["themes"]),this.presenting=this.tree.select(["app","presenting"]),this.current=this.tree.select(["app","selectedSlide"]),this.presenting.on("update",function(){return n.present()}),[this.slides,this.current,this.themes].map(function(e){return(0,e.on)("update",function(){return n.update()})})}return _createClass(e,[{key:"makeCellManager",value:function(){throw new Error("Not implemented")}},{key:"makeSpeaker",value:function(e){return new _base.SpeakerBase(e)}},{key:"initUI",value:function(){var e=this;this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({"nbp-presenter":1}),_nbpresentDeps.d3.select(window).on("mousemove",function(){e.presenting.get()&&e.speaker.hint()}),this.$style=_nbpresentDeps.d3.select("head").append("style").classed({"nbp-presenter-style":1}),this.$backgrounds=this.$ui.append("div").classed({"nbp-presenter-backgrounds":1})}},{key:"initActions",value:function(){}},{key:"deinitActions",value:function(){}},{key:"layoutClass",value:function(e){return{manual:_manual.ManualLayout,treemap:_treemap.TreemapLayout,grid:_grid.GridLayout}[e.value.layout||"manual"]}},{key:"updateLayout",value:function(e){var t=this.layoutClass(e);return this.layout&&this.layout.key()==t.clsKey()&&this.layout.slide.key===e.key?this.layout.slide=e:this.layout=new t(this.tree,e,document.documentElement),this.layout.init(),this}},{key:"themeClass",value:function(e){return _base2.ThemeBase}},{key:"updateTheme",value:function(e){var t=this.themeClass(e),n=this.themes.get(),s=e.value.theme||n.default;return n.theme&&!n.theme[s]&&(s=Object.keys(n.theme)[0]),this.theme=new t(this.themes.select(["theme",s||"<default>"]),e,this.$style),this.theme.init(),this}},{key:"present",value:function(){this.presenting.get()?this.initActions():this.deinitActions(),this.update()}},{key:"getCells",value:function(){return this.cellManager.getCells()}},{key:"update",value:function(){var e=this.presenting.get(),t=this;_nbpresentDeps.d3.select("body").classed({"nbp-presenting":e});var n=this.current.get(),s=this.slides.get([{key:n}]);if(!s)return this.current.set(this.slides.get([0,"key"]));if(this.updateLayout(s).updateTheme(s),!e)return this.clean(!0);var r=this.getCells();_nbpresentDeps.d3.selectAll(this.allPartSelect()).classed({"nbp-unpresent":1,"nbp-present":0}),_nbpresentDeps.d3.entries(s.value.regions).filter(function(e){return e.value.content}).map(function(e){var n=e.value.content,s=r[n.cell];if(s){var a=_nbpresentDeps.d3.select(s.element[0]),i=n.part===_parts.PART.whole?a:a.select(_parts.PART_SELECT[n.part]);i.classed({"nbp-unpresent":0,"nbp-present":1}).each(function(){return t.theme.update(e,i)}).each(function(){return t.layout.update(e,i)})}}),this.clean()}},{key:"allPartSelect",value:function(){return _nbpresentDeps.d3.entries(_parts.PART_SELECT).filter(function(e){return e.value}).map(function(e){return".cell "+e.value}).concat([".cell"]).join(", ")}},{key:"clean",value:function(e){var t=this,n=t.layout&&this.layout.clean||function(){return 0};return e&&_nbpresentDeps.d3.selectAll(this.allPartSelect()).classed({"nbp-unpresent":1,"nbp-present":0}),_nbpresentDeps.d3.selectAll(".nbp-unpresent").call(n).classed({"nbp-unpresent":0,"nbp-present":0}),this}}]),e}();

},{"../layout/grid":16,"../layout/manual":17,"../layout/treemap":18,"../parts":24,"../speaker/base":29,"../theme/base":34,"nbpresent-deps":"nbpresent-deps"}],26:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotebookPresenter=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_get=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(r)},_nbpresentDeps=require("nbpresent-deps"),_notebook=require("../cells/notebook"),_notebook2=require("../speaker/notebook"),_base=require("./base"),_notebook3=require("../actions/notebook"),NotebookPresenter=exports.NotebookPresenter=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"makeCellManager",value:function(){return new _notebook.NotebookCellManager}},{key:"makeSpeaker",value:function(e){return new _notebook2.NotebookSpeaker(e)}},{key:"initActions",value:function(){var e=this,t=[{name:"prev-slide",keys:["left"],value:{icon:"fa-step-backward",help:"previous slide",handler:function(){return e.speaker.retreat()}}},{name:"next-slide",keys:["right","space"],value:{icon:"fa-step-forward",help:"next slide",handler:function(){return e.speaker.advance()}}}];this.actions=new _notebook3.NotebookActions(t),this.actions.push()}},{key:"deinitActions",value:function(){this.actions&&this.actions.pop()}},{key:"clean",value:function(e){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clean",this).call(this,e),_nbpresentDeps.d3.entries(this.getCells()).map(function(e){e.value.code_mirror.refresh()})}}]),t}(_base.Presenter);

},{"../actions/notebook":4,"../cells/notebook":6,"../speaker/notebook":30,"./base":25,"nbpresent-deps":"nbpresent-deps"}],27:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RegionTree=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_nbpresentDeps=require("nbpresent-deps"),_namespace=require("base/js/namespace"),_namespace2=_interopRequireDefault(_namespace),_icons=require("./icons"),_toolbar=require("./toolbar"),_mini=require("./mini"),RegionTree=function(){function e(t,n){_classCallCheck(this,e),this.slide=t,this.selectedRegion=n,this.mini=new _mini.MiniSlide(this.selectedRegion).regions(function(e){var t={};return t[e.region.id]=e.region,t}),this.initUI(),this.update(),this.update=this.update.bind(this),this.slide.on("update",this.update),this.selectedRegion.on("update",this.update),this.watcher=this.slide.tree.watch({slide:this.slide,selectedRegion:this.selectedRegion})}return _createClass(e,[{key:"destroy",value:function(){this.$ui.transition().style({opacity:0}).remove(),this.killed=!0}},{key:"width",value:function(){return 300}},{key:"layout",value:function(e){return this.slide.set("layout",e),this}},{key:"initUI",value:function(){var e=this;this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({"nbp-regiontree":1});var t=new _toolbar.Toolbar;this.$toolbar=this.$ui.append("div").datum([[{icon:_icons.ICON.addRegion,click:function(){return e.addRegion()},label:"+ Region"}],[{icon:_icons.ICON.manual,click:function(){return e.layout("manual")},label:"Free"},{icon:_icons.ICON.treemap,click:function(){return e.layout("treemap")},label:"Treemap"},{icon:_icons.ICON.grid,click:function(){return e.layout("grid")},label:"Grid"}]]).call(t.update)}},{key:"toggleStyle",value:function(e){var t=this.selectedRegion.get()||{},n=t.region,i=["regions",n,"style",e];this.slide.set(i,!this.slide.get(i))}},{key:"addRegion",value:function(){var e=_nbpresentDeps.uuid.v4();this.slide.set(["regions",e],{id:e,attrs:{x:.1,y:.1,width:.8,height:.8}})}},{key:"update",value:function(){if(!this.killed){var e=this,t=_nbpresentDeps.d3.entries(this.slide.get("regions")||{}),n=this.$ui.selectAll(".region_info").data(t,function(e){return e.key}),i=this.slide.get();n.enter().append("div").classed({region_info:1}),n.exit().transition().style({opacity:0}).remove();var r=n.selectAll(".slide").data(function(e){return[{value:i,key:i.id,region:e.value}]});r.enter().append("div").classed({slide:1}),r.exit().transition().style({opacity:0}).remove(),r.call(this.mini.update);var s=this.slide.get(["layout"]),a=n.selectAll(".region_attr").data(function(e){return _nbpresentDeps.d3.entries(e.value.attrs).map(function(t){return{region:e,attr:t}}).filter(function(e){return"treemap"==s?0===e.attr.key.indexOf(s):-1===e.attr.key.indexOf("treemap")})});a.exit().remove(),a.enter().append("div").classed({region_attr:1,"input-group":1,"input-group-sm":1}).call(function(t){t.append("span").classed({"input-group-btn":1}).append("button").classed({btn:1,"btn-default":1,"btn-xs":1,attr_name:1}),t.append("span").classed({"input-group-addon":1,attr_ns:1}).append("i").classed({fa:1,"fa-fw":1}),t.append("input").classed({"form-control":1}).attr({type:"text"}).each(function(){_namespace2.default.keyboard_manager.register_events(this)}).on("change",function(t){var n=_nbpresentDeps.d3.select(this),i=parseFloat(n.property("value"));e.slide.set(["regions",t.region.key,t.attr.key],i)})}).on("mousedown",function(t){e.makeSlider(this,t)}),a.select(".attr_name").text(function(e){return-1===e.attr.key.indexOf(":")?e.attr.key:e.attr.key.split(":")[1]}),a.select(".attr_ns").each(function(e){var t=-1!==e.attr.key.indexOf(":"),n=_nbpresentDeps.d3.select(this).style({display:t?null:"none"});if(t){var i={treemap:"tree",grid:"calculator"}[e.attr.key.split(":")[0]];n.select(".fa").classed("fa-"+i,1)}}),a.select(".form-control").attr({value:function(e){return"boolean"==typeof e.attr.value?e.attr.value:"number"==typeof e.attr.value?e.attr.value.toFixed(3):void 0}})}}},{key:"makeSlider",value:function(e){var t=this,n=_nbpresentDeps.d3.mouse(e)[0],i=_nbpresentDeps.d3.select(e);i.on("mousemove",function(e){var i=_nbpresentDeps.d3.mouse(this)[0],r=(i-n)/20,s=["regions",e.region.key,"attrs",e.attr.key];n=i,t.slide.set(s,t.slide.get(s)+r)}).on("mouseup",function(){i.on("mousemove",null)}).on("mouseexit",function(){i.on("mousemove",null)})}}]),e}();exports.RegionTree=RegionTree;

},{"./icons":15,"./mini":20,"./toolbar":43,"base/js/namespace":"base/js/namespace","nbpresent-deps":"nbpresent-deps"}],28:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sorter=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_underscore=require("underscore"),_nbpresentDeps=require("nbpresent-deps"),_namespace=require("base/js/namespace"),_namespace2=_interopRequireDefault(_namespace),_editor=require("./editor"),_toolbar=require("./toolbar"),_icons=require("./icons"),_mini=require("./mini"),_library=require("./templates/library"),_notebook=require("./cells/notebook"),_overlay=require("./cells/overlay"),_notebook2=require("./actions/notebook"),_arise=require("./tome/arise"),_basic=require("./tome/basic"),_card=require("./theme/card"),REMOVED="<removed>",MODE_NAMES=["editor","templates","linkOverlay"],Sorter=function(){function e(t){var i=this;_classCallCheck(this,e),this.tree=t,this.cellManager=new _notebook.NotebookCellManager,this.cellManager.clearThumbnails(),this.templatePicked=this.templatePicked.bind(this),this.slides=this.tree.select(["slides"]),this.themes=this.tree.select(["themes","theme"]),this.selectedSlide=this.tree.select(["app","selectedSlide"]),this.selectedRegion=this.tree.select(["app","selectedRegion"]),this.selectedSlide.on("update",function(){return i.updateSelectedSlide()}),this.selectedRegion.on("update",function(){return i.updateSelectedRegion()}),this.slides.on("update",function(){return i.draw()}),this.scale={x:_nbpresentDeps.d3.scale.linear()},this.mini=new _mini.MiniSlide(this.selectedRegion),this.drawn=!1,this.tomes=[new _basic.BasicTome(this),new _arise.AriseTome(this)],this.initUI().initToolbar().initDrag().initActions().draw(),_underscore._.defer(function(){return i.$body.classed({"nbp-sorting":1})})}return _createClass(e,[{key:"initActions",value:function(){return this.actions=new _notebook2.NotebookActions,this.actions.push(),this}},{key:"deinitActions",value:function(){return this.actions&&this.actions.pop(),this}},{key:"cleanup",value:function(){this.focusMode()}},{key:"destroy",value:function(){var e=this;_nbpresentDeps.d3.select("body").classed({"nbp-sorting":0}),this.cleanup(),this.deinitActions(),this.$deckToolbar.remove(),this.$themePicker&&this.$themePicker.remove(),_nbpresentDeps.d3.selectAll(".ui-tooltip").remove(),this.destroyed=!0,_underscore._.delay(function(){return e.$drawer.remove()},200)}},{key:"focusMode",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=void 0;return MODE_NAMES.map(function(n){(i=e[n])&&-1===t.indexOf(n)&&(i.destroy(),e[n]=null)}),this}},{key:"initUI",value:function(){var e=this;return this.$body=_nbpresentDeps.d3.select("body"),this.$app=this.$body.select(".nbp-app"),this.$drawer=this.$body.append("div").classed({"nbp-sorter-drawer":1}),this.$ui=this.$drawer.append("div").classed({"nbp-sorter":1}),this.$ui.append("h2").classed({"nbp-sorter-label":1}).text("Your Slides"),this.$slides=this.$ui.append("div").classed({"nbp-slides-wrap":1}),this.$empty=this.$ui.append("div").classed({"nbp-sorter-empty":1}),this.$empty.append("div").classed({"nbp-empty-intro":1}).call(function(t){t.append("h2").text("No Slidesâ¦ yet!"),t.append("p").call(function(t){t.append("span").text("You can create an empty slide by pressing "),t.append("a").on("click",function(){return e.addSlide()}).append("i").classed({"fa fa-plus-square-o fa-2x":1}),t.append("span").text(" or by importing slides:")})}),this.$empty.append("div").classed({"nbp-tomes":1}),this}},{key:"initDrag",value:function(){function e(){d=p(),r=d[0]-l,o=d[1]-s,a=n+r}var t=this,i=this,n=void 0,s=void 0,l=void 0,r=void 0,o=void 0,a=void 0,d=void 0,c=void 0,u=void 0,h=_nbpresentDeps.d3.select("body").node(),p=function(){return _nbpresentDeps.d3.mouse(h)};return this.drag=_nbpresentDeps.d3.behavior.drag().on("dragstart",function(){c=_nbpresentDeps.d3.select(this),n=parseFloat(c.style("left")),d=p(),l=d[0],s=d[1]}).on("drag",function(t){if(e(),!t.key||Math.abs(r)<10)return void c.classed({dragging:0});c.classed({dragging:1}).style({left:a+"px"})}).on("dragend",function(n){if(e(),c.classed({dragging:0}),n.key&&!(Math.abs(r)<10)){var s=!1;t.$slides.selectAll(".slide").each(function(e){s||e.key==n.key||(u=this.getBoundingClientRect(),d=_nbpresentDeps.d3.mouse(this),d[0]>0&&d[0]<u.width&&d[1]>0&&d[1]<u.height&&(i.unlinkSlide(n.key),i.selectedSlide.set(i.appendSlide(e.key,n.key)),s=!0))})}}),this}},{key:"slideHeight",value:function(){return 100}},{key:"slideWidth",value:function(){return 180}},{key:"copySlide",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=JSON.parse(JSON.stringify(e));return n.id=this.nextId(),n.regions=_nbpresentDeps.d3.entries(n.regions).reduce(function(e,n){var s=t.nextId();return e[s]=_underscore._.extend({},n.value,{id:s},i?{content:null}:{}),e},{}),n}},{key:"slideClicked",value:function(e){if(e.key&&this.selectedSlide.set(e.key),!e.key&&!this.templates)return void(this.templates=new _library.TemplateLibrary(this.templatePicked));if(this.templates){var t=this.copySlide(e.value);return this.templatePicked({key:t.id,value:t}),void this.focusMode()}}},{key:"updateEmpty",value:function(){var e=this.$empty.select(".nbp-tomes").selectAll(".nbp-tome").data(this.tomes.filter(function(e){return e.relevant()}));e.enter().append("div").classed({"nbp-tome":1}).call(function(e){e.append("h3").text(function(e){return e.title()}),e.append("button").classed({btn:1}).on("click",function(e){return e.execute()}).call(function(e){e.append("i").attr("class",function(e){return"fa fa-2x fa-"+e.icon()}),e.append("span").text(function(e){return" "+e.label()})})}),e.exit().remove()}},{key:"draw",value:function(){var e=this;if(this.$slides){var t=this.tree.get("sortedSlides");this.$ui.classed({empty:!t.length}),t.length||this.updateEmpty(),this.scale.x.range([10,this.slideWidth()]);var i=this.$slides.selectAll(".slide").data(t,function(e){return e.key+":"+e.value.prev});i.enter().append("div").classed({slide:1}).call(this.drag).on("click",function(t){return e.slideClicked(t)}).on("dblclick",function(t){return e.editSlide(t.key)}),i.exit().remove();var n=this.selectedSlide.get(),s=this.selectedRegion.get(),l=void 0;return i.style({"z-index":function(e,t){return t}}).classed({active:function(e){return e.key===n}}).transition().style({left:function(t,i){var s=e.scale.x(i);return t.key===n&&(l=s),s+"px"}}),i.call(this.mini.update),this.$regionToolbar.style({opacity:s?1:0,display:s?"block":"none",left:l+"px"}).call(this.regionToolbar.update),this.$deckToolbar.call(this.deckToolbar.update),this}}},{key:"updateSelectedRegion",value:function(){var e=this.selectedRegion.get()||{},t=e.slide,i=e.region;if(i){this.selectedSlide.set(t);var n=this.slides.get([t,"regions",i,"content"]);n&&(this.selectCell(n.cell),this.cellManager.clearThumbnails([n]))}return this.draw()}},{key:"selectCell",value:function(e){_namespace2.default.notebook.get_cells().filter(function(t,i){t.metadata.nbpresent&&t.metadata.nbpresent.id==e&&(_namespace2.default.notebook.select(i),_namespace2.default.notebook.scroll_to_cell(i))})}},{key:"updateSelectedSlide",value:function(){var e=this.selectedSlide.get();(this.selectedRegion.get()||{}).slide!=e&&this.selectedRegion.set(null),this.draw(),this.editor&&this.editSlide(e)}},{key:"initToolbar",value:function(){var e=this;return this.deckToolbar=(new _toolbar.Toolbar).btnClass("btn-default btn-lg").tipOptions({container:"body",placement:"top"}),this.$deckToolbar=this.$app.append("div").classed({"nbp-deck-toolbar":1}).datum([[{icon:"plus-square-o fa-2x fa-fw",click:function(){return e.addSlide()},label:"+ Slide"}],[{icon:["square-o fa-stack-2x",_icons.ICON.themer+" fa-stack-1x"],click:function(){return e.pickTheme()},label:"Theme",visible:function(){return e.selectedSlide.get()}}],[{icon:"chevron-circle-down fa-2x fa-fw",click:function(){return e.editSlide()},label:"Leave",visible:function(){return e.editor}},{icon:_icons.ICON.editor+" fa-2x fa-fw",click:function(){return e.editSlide()},label:"Edit",visible:function(){return e.selectedSlide.get()&&!e.editor}}],[{icon:["square-o fa-stack-2x",_icons.ICON.trash+" fa-stack-1x"],click:function(){e.removeSlide(e.selectedSlide.get()),e.selectedSlide.set(null)},label:"- Slide",visible:function(){return e.selectedSlide.get()}}]]).call(this.deckToolbar.update),this.regionToolbar=new _toolbar.Toolbar,this.$regionToolbar=this.$slides.append("div").classed({"nbp-region-toolbar":1}).datum([[{icon:_icons.ICON.link,click:function(){return e.linkContentOverlay()},label:"Link"},{icon:_icons.ICON.unlink,click:function(){return e.linkContent(null)},label:"Unlink",visible:function(){var t=e.selectedRegion.get();if(t)return e.slides.get([t.slide,"regions",t.region,"content"])}}],[{icon:_icons.ICON.trash,click:function(){return e.destroyRegion()},label:"- Region"}]]).call(this.regionToolbar.update),this}},{key:"pickTheme",value:function(){var e=this;if(this.$themePicker)return this.$themePicker.remove(),void delete this.$themePicker;this.themeCard=new _card.ThemeCard,this.$themePicker=this.$body.append("div").classed({"nbp-slide-theme-picker":1});var t=this.themes.get()||{},i=this.$themePicker.selectAll(".nbp-slide-theme-picker-theme").data([{key:null,value:{}}].concat(_nbpresentDeps.d3.entries(t)));i.enter().append("div").classed({"nbp-slide-theme-picker-theme":1}).on("click",function(){return e.$themePicker.remove()}).on("mouseover",function(t){var i=t.key;e.slides.set([e.selectedSlide.get(),"theme"],i)}),i.exit().remove(),this.themeCard.update(i)}},{key:"cellId",value:function(e){return e.metadata.nbpresent||(e.metadata.nbpresent={id:this.nextId()}),e.metadata.nbpresent.id}},{key:"linkContentOverlay",value:function(){var e=this;this.linkOverlay?(this.linkOverlay.destroy(),this.linkOverlay=null):(this.focusMode(["linkOverlay"]),this.linkOverlay=new _overlay.LinkOverlay(this.cellManager,function(t){var i=t.part,n=t.cell;e.linkContent(i,n),e.linkContentOverlay()}),this.editor&&(this.editor.destroy(),delete this.editor),this.tree.set(["app","presenting"],!1))}},{key:"linkContent",value:function(e,t){var i=this.selectedRegion.get()||{},n=i.slide,s=i.region,l=void 0;return t=t||_namespace2.default.notebook.get_selected_cell(),s&&t?(e?(l=this.cellId(t),this.slides.set([n,"regions",s,"content"],{cell:l,part:e})):this.slides.unset([n,"regions",s,"content"]),this):this}},{key:"destroyRegion",value:function(){var e=this.selectedRegion.get()||{},t=e.slide,i=e.region;if(i)return this.slides.unset([t,"regions",i]),this.selectedRegion.unset(),this}},{key:"addSlide",value:function(){!this.templates||this.templates.killed?this.templates=new _library.TemplateLibrary(this.templatePicked):this.focusMode()}},{key:"templatePicked",value:function(e){if(e&&this.templates&&!this.templates.killed){var t=this.tree.get("sortedSlides").slice(-1),i=this.selectedSlide.get();this.slides.set([e.key],e.value);var n=this.appendSlide(i||(t.length?t[0].key:null),e.key);this.selectedSlide.set(n)}this.focusMode()}},{key:"editSlide",value:function(e){e=e||this.selectedSlide.get(),this.editor&&(this.editor.slide.get("id")===e&&(e=null),this.focusMode()),e&&(this.focusMode(["editor"]),this.editor=new _editor.Editor(this.slides.select([e]),this.selectedRegion)),this.draw()}},{key:"nextId",value:function(){return _nbpresentDeps.uuid.v4()}},{key:"unlinkSlide",value:function(e){var t=this.slides.get(e),i=t.prev,n=this.nextSlide(e);n&&this.slides.set([n,"prev"],i),this.slides.set([e,"prev"],REMOVED)}},{key:"removeSlide",value:function(e){e&&(this.unlinkSlide(e),this.slides.unset(e))}},{key:"nextSlide",value:function(e){var t=this.tree.get("sortedSlides"),i=t.filter(function(t){return t.value.prev===e});return i.length?i[0].key:null}},{key:"newSlide",value:function(e,t){return{id:e,prev:t,regions:{}}}},{key:"appendSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.nextSlide(e);return t?this.slides.set([t,"prev"],e):(t=this.nextId(),this.slides.set(t,this.newSlide(t,e))),i&&this.slides.set([i,"prev"],t),t}}]),e}();exports.Sorter=Sorter;

},{"./actions/notebook":4,"./cells/notebook":6,"./cells/overlay":7,"./editor":9,"./icons":15,"./mini":20,"./templates/library":32,"./theme/card":35,"./tome/arise":40,"./tome/basic":42,"./toolbar":43,"base/js/namespace":"base/js/namespace","nbpresent-deps":"nbpresent-deps","underscore":1}],29:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpeakerBase=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_toolbar=require("../toolbar"),SpeakerBase=exports.SpeakerBase=function(){function e(t){var n=this;_classCallCheck(this,e),this.tree=t,this.current=this.tree.select(["app","selectedSlide"]),this.presenting=this.tree.select(["app","presenting"]),this.presenting.on("update",function(){return n.update()}),this.init().initUI().update()}return _createClass(e,[{key:"init",value:function(){return this}},{key:"initUI",value:function(){var e=this;return this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({nbpresent_speaker:1}).on("mouseover",function(){return e.focused=!0}).on("mouseout",function(){e.focused=!1,e.startDecay()}),this.initToolbar(),this.startDecay(),this}},{key:"update",value:function(){this.$ui.style({display:this.presenting.get()?null:"none"})}},{key:"decay",value:function(){this.energy=.8*(this.energy||0),this.$ui.style({opacity:this.focused?1:this.energy}),this.focused?(clearInterval(this.decayInterval),this.decayInterval=null):this.energy<=.1&&(clearInterval(this.decayInterval),this.decayInterval=null,this.energy=0)}},{key:"startDecay",value:function(){var e=this;this.energy=.6,this.decayInerval||(this.decayInerval=setInterval(function(){return e.decay()},100))}},{key:"hint",value:function(){this.startDecay()}},{key:"toolbarIcons",value:function(){var e=this,t=this;return[[{icon:"fast-backward",click:function(){return t.current.set(e.tree.get(["sortedSlides",0,"key"]))},label:"First"}],[{icon:"step-backward",click:function(){return e.retreat()},label:"Previous"}],[{icon:"step-forward",click:function(){return e.advance()},label:"Next"}]]}},{key:"retreat",value:function(){var e=this.tree.get(["slides",this.current.get()]);this.current.set(e.prev)}},{key:"advance",value:function(){var e=this,t=this.tree.get(["slides"]),n=t[this.current.get()];return _nbpresentDeps.d3.entries(t).map(function(t){t.value.prev===n.id&&e.current.set(t.key)}),this.current.get()}},{key:"initToolbar",value:function(){var e=new _toolbar.Toolbar;return e.btnGroupClass("btn-group-vertical").btnClass("btn-link btn-lg").tipOptions({container:"body",placement:"top"}),this.$toolbar=this.$ui.append("div").classed({"nbp-presenter-toolbar":1}).datum(this.toolbarIcons()).call(e.update),this}}]),e}();

},{"../toolbar":43,"nbpresent-deps":"nbpresent-deps"}],30:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotebookSpeaker=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_get=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},_base=require("./base"),NotebookSpeaker=exports.NotebookSpeaker=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"toolbarIcons",value:function(){var e=this;return _get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toolbarIcons",this).call(this).concat([[{icon:"book",click:function(){return e.presenting.set(!1)},label:"Notebook"}]])}}]),t}(_base.SpeakerBase);

},{"./base":29}],31:[function(require,module,exports){
"use strict";function regions(r){var e=_slicedToArray(r,4);return{x:e[0]/10,y:e[1]/10,width:e[2]/10,height:e[3]/10}}function slide(r){return{regions:r.map(regions)}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function r(r,e){var t=[],n=!0,i=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done)&&(t.push(a.value),!e||t.length!==e);n=!0);}catch(r){i=!0,o=r}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.regions=regions,exports.slide=slide;

},{}],32:[function(require,module,exports){
"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemplateLibrary=void 0;var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}(),_nbpresentDeps=require("nbpresent-deps"),_mini=require("../mini"),_manual=require("./manual"),_TEMPLATES=_manual.MANUAL_TEMPLATES,TemplateLibrary=function(){function e(i){_classCallCheck(this,e),this.picked=i,this.initUI(),this.mini=new _mini.MiniSlide,this.fakeSlide=this.fakeSlide.bind(this),this.update=this.update.bind(this),this.x=_nbpresentDeps.d3.scale.linear().domain([0,1]).range([0,_mini.SLIDE_WIDTH+20]),this.update()}return _createClass(e,[{key:"destroy",value:function(){this.$ui.transition().style({opacity:0}).remove(),this.killed=!0}},{key:"fakeSlide",value:function(e){var i=_nbpresentDeps.uuid.v4();return{key:i,value:{id:i,regions:e.regions.reduce(function(e,i){var t=_nbpresentDeps.uuid.v4();return e[t]=_nbpresentDeps.$.extend({},{id:t},{attrs:i}),e},{})}}}},{key:"initUI",value:function(){var e=this;this.$ui=_nbpresentDeps.d3.select("body").append("div").classed({"nbp-template-library":1}),this.$ui.append("button").classed({btn:1,hide_library:1,"btn-default":1}).on("click",function(){return e.picked(null)}).append("i").classed({fa:1,"fa-remove":1}),this.$ui.append("h3").classed({from_template:1}).text("Pick template"),this.$ui.append("h3").classed({from_slide:1}).text("Reuse slide as template"),this.$slides=this.$ui.append("div").classed({"npb-template-library-slides":1})}},{key:"update",value:function(){var e=this,i=this.$slides.selectAll(".slide").data(_TEMPLATES.map(this.fakeSlide));i.enter().append("div").classed({slide:1}).call(this.mini.update),i.style({left:function(i,t){return e.x(t)+"px"}}),i.on("click",function(i){return e.picked(i)}),i.exit().remove()}}]),e}();exports.TemplateLibrary=TemplateLibrary;

},{"../mini":20,"./manual":33,"nbpresent-deps":"nbpresent-deps"}],33:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MANUAL_TEMPLATES=void 0;var _util=require("./_util"),MANUAL_TEMPLATES=exports.MANUAL_TEMPLATES=[[[0,0,10,10]],[[.5,1,4.5,8],[5,1,4.5,8]],[[1,1,8,6],[1,7,4,2],[5,7,4,2]],[[1,1,2,8],[4,1,2,8],[7,1,2,8]],[[1,1,8,8],[1,1,2,8],[4,1,2,8],[7,1,2,8]],[[1,1,4,4],[5,1,4,4],[1,5,4,4],[5,5,4,4]]].map(_util.slide,function(e){return e/10});

},{"./_util":31}],34:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThemeBase=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_fonts=require("./fonts"),PRESENT_PREFIX=".nbp-presenting .nbp-present",ThemeBase=exports.ThemeBase=function(){function e(t,n,r){_classCallCheck(this,e),this.theme=t,this.rules=t.select(["rules"]),this.palette=t.select(["palette"]),this.backgrounds=t.select(["backgrounds"]),this.textBase=t.select(["text-base"]),this.slide=n,this.$style=r}return _createClass(e,[{key:"update",value:function(e,t){}},{key:"init",value:function(){var e=this.palette.get()||{},t=[{key:"",value:this.textBase.get()||{}}].concat(_nbpresentDeps.d3.entries(this.rules.get()||{})).map(function(t){var n=t.key,r=t.value,s=_nbpresentDeps.d3.entries(r).map(function(t){var n=t.key,r=t.value;switch(n){case"font-size":r+="rem";break;case"font-family":(0,_fonts.loadFonts)([r]),r='"'+r+'"';break;case"color":var s=e[r]||{},a=s.rgb,o=void 0===a?[0,0,0]:a,i=s.a;r="rgba("+o+", "+(void 0===i?1:i)+")"}return"\t"+n+": "+r+";"});return-1!==_nbpresentDeps.d3.range(1,7).map(function(e){return"h"+e}).concat(["blockquote"]).indexOf(n)&&(s.push("margin: 0 0 1.3em 0;"),s.push("padding: 0;")),PRESENT_PREFIX+" "+n+"{\n          line-height: 1.25;\n          "+s.join("\n")+"\n        }"}).join("\n");this.$style.text(t);var n=this.backgrounds.get()||{},r=_nbpresentDeps.d3.select(".nbp-presenter-backgrounds").selectAll(".nbp-presenter-background").data(_nbpresentDeps.d3.entries(n,function(e){return e.key}));r.exit().remove(),r.enter().append("div").classed({"nbp-presenter-background":1}),r.style({"background-image":function(e){var t=e.value,n=t["background-image"];return n&&"url("+n+")"},"background-color":function(t){var n=t.value,r=e[n["background-color"]]||{},s=r.rgb;return s&&"rgb("+s+")"},"background-position":function(e){var t=e.value;return t.x+" "+t.y},left:0,right:0,bottom:0,top:0})}}]),e}();

},{"./fonts":36,"nbpresent-deps":"nbpresent-deps"}],35:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThemeCard=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_fonts=require("./fonts"),ThemeCard=exports.ThemeCard=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"update",value:function(e){e.classed({"nbp-theme-card":1}),e.each(function(){var e=_nbpresentDeps.d3.select(this);["palette","backgrounds","fonts"].map(function(t){e.select(".nbp-theme-card-"+t).node()||e.append("div").attr("class","nbp-theme-card-"+t)})}),this.updateBackground(e).updateColor(e).updateFont(e)}},{key:"updateBackground",value:function(e){var t=e.select(".nbp-theme-card-backgrounds").selectAll(".nbp-theme-card-background").data(function(e){var t=_nbpresentDeps.d3.entries(e.value.backgrounds||{});return t.map(function(n){var r=n.value;return{theme:e.value,background:r,height:100/t.length}})});return t.enter().append("div").classed({"nbp-theme-card-background":1}),t.exit().remove(),t.style({height:function(e){return e.height+"%"},"background-color":function(e){var t=e.theme,n=e.background,r=n["background-color"];if(r=r&&t.palette[r])return"rgb("+r.rgb+")"},"background-image":function(e){var t=e.background,n=t["background-image"];if(n)return"url("+n+")"}}),this}},{key:"updateColor",value:function(e){var t=e.select(".nbp-theme-card-palette").selectAll(".nbp-theme-card-color").data(function(e){var t=e.value;return _nbpresentDeps.d3.entries(t.palette)});return t.enter().append("div").classed({"nbp-theme-card-color":1}),t.exit().remove(),t.style({"background-color":function(e){var t=e.value;return"rgba("+(t.rgb||[0,0,0])+", "+(t.a||1)+")"}}),this}},{key:"updateFont",value:function(e){var t=e.select(".nbp-theme-card-fonts").selectAll(".nbp-theme-card-font").data(function(e){var t=e.value,n=_nbpresentDeps.d3.entries(t.rules),r=t["text-base"];return r&&(n=n.concat([{key:"â",value:r}])),n.filter(function(e){var t=e.value;return t["font-family"]||t["font-size"]||t["font-color"]})});return t.enter().append("div").classed({"nbp-theme-card-font":1}),t.exit().remove(),t.text(function(e){return e.key+" "+(e.value["font-size"]||"")}).style({"font-family":function(e){var t=e.value,n=t["font-family"];return n&&(0,_fonts.loadFonts)([n]),n},color:function(e){return e.value.color}}),this}}]),e}();

},{"./fonts":36,"nbpresent-deps":"nbpresent-deps"}],36:[function(require,module,exports){
"use strict";function loadFonts(e){return e=_nbpresentDeps._.difference(e,_nbpresentDeps._.keys(_fontLoaded)),e.length?(_nbpresentDeps.WebFont.load({google:{families:e}}),_nbpresentDeps._.extend(_fontLoaded,_nbpresentDeps._.object(e,e)),e):[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FONTS=exports.FONTS_MONO=exports.SYMB=void 0,exports.loadFonts=loadFonts;var _nbpresentDeps=require("nbpresent-deps"),SYMB=exports.SYMB="h1 h2 h3 h4 h5 h6 h7\n    ul ol li\n    blockquote pre code\n    strong em a i\n    table thead tbody tfoot th td".split(/\s+/),FONTS_MONO=exports.FONTS_MONO=["Inconsolata","Source Code Pro","Roboto Mono","Droid Sans Mono","Ubuntu Mono","VT323","PT Mono","Cousine","Oxygen Mono","Anonymous Pro","Fira Mono","Cutive Mono","Nova Mono","Share Tech Mono"],FONTS=exports.FONTS=["ABeeZee","Abel","Abril Fatface","Alegreya","Alfa Slab One","Alice","Allerta","Amaranth","Amatic SC","Andika","Arimo","Asap","Average","Bevan","Bitter","Bree Serif","Cabin","Cantata One","Cardo","Clicker Script","Crete Round","Crimson Text","Dancing Script","Didact Gothic","Domine","Dosis","Droid Sans","EB Garamond","Exo","Fanwood Text","Fauna One","Fjalla One","Flamenco","Francois One","Gentium Book Basic","Gudea","Hind","Imprima","Istok Web","Josefin Sans","Josefin Slab","Judson","Kameron","Kreon","Lato","Ledger","Libre Baskerville","Lobster","Lora","Lustria","Medula One","Merriweather","Montserrat","Muli","Neuton","Nixie One","Noto Sans","Nunito","Old Standard TT","Open Sans","Oswald","Ovo","Oxygen","PT Sans","PT Serif","Pacifico","Patua One","Philosopher","Playfair Display","Playfair Display SC","Pontano Sans","Quando","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Raleway","Rancho","Roboto","Roboto Slab","Rokkitt","Rufina","Sacramento","Sansita One","Shadows Into Light","Signika","Sintony","Slabo 13px","Source Sans Pro","Squada One","Stint Ultra Expanded","Ubuntu","Ultra","Unica One","Vollkorn","Walter Turncoat","Yeseva One"].concat(FONTS_MONO),_fontLoaded={Lato:1,"google:Lato":1};loadFonts(["Lato"]);

},{"nbpresent-deps":"nbpresent-deps"}],37:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThemeManager=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_nbpresentDeps=require("nbpresent-deps"),_icons=require("../icons"),_toolbar=require("../toolbar"),_card=require("./card"),_plain=require("./theme/plain"),_reveal=require("./theme/reveal"),BASE_THEMES=_nbpresentDeps._.extend({},_plain.PLAIN_THEMES,_reveal.REVEAL_THEMES),ThemeManager=exports.ThemeManager=function(){function e(t){var n=this;_classCallCheck(this,e),this.tree=t,this.themes=t.select(["themes","theme"]),this.defaultTheme=t.select(["themes","default"]);var r=t.select(["app","theme-manager"]);this.stockThemes=r.select(["themes"]),this.current=r.select(["current"]),this.card=new _card.ThemeCard,[this.defaultTheme,this.themes,this.stockThemes].map(function(e){return(0,e.on)("update",function(){return n.update()})}),this.current.on("update",function(){return[n.currentUpdated(),_nbpresentDeps._.defer(function(){return n.update()})]}),this.initUI(),_nbpresentDeps._.defer(function(){return n.$body.classed({"nbp-theming":1})})}return _createClass(e,[{key:"destroy",value:function(){var e=this;this.$body.classed({"nbp-theming":0}),_nbpresentDeps._.delay(function(){e.$ui.remove()},200)}},{key:"initUI",value:function(){var e=this;return this.$body=_nbpresentDeps.d3.select("body"),this.$ui=this.$body.append("div").classed({"nbp-theme-manager":1}),this.toolbar=(new _toolbar.Toolbar).btnGroupClass("btn-group-vertical"),this.$toolbar=this.$ui.append("div").datum([[{icon:_icons.ICON.trash,visible:function(){return e.current.get()},click:function(){return e.destroyTheme(e.current.get())},label:"- Theme"}]]),this.$ui.append("div").classed({"nbp-theme-previews":1}).append("h2").text("Your Themes"),this.$ui.append("div").classed({"nbp-theme-previews-canned":1}).append("h2").text("Community Themes"),this.update().currentUpdated()}},{key:"update",value:function(){var e=this,t=this.themes.get()||{},n=this.current.get(),r=_nbpresentDeps._.extend({},this.stockThemes.get(),BASE_THEMES),s=this.$ui.select(".nbp-theme-previews").selectAll(".nbp-theme-preview").data(_nbpresentDeps.d3.entries(t),function(e){return e.key}),i=this.$ui.select(".nbp-theme-previews-canned").selectAll(".nbp-theme-preview-canned").data(_nbpresentDeps.d3.entries(r),function(e){return e.key}),a=this.defaultTheme.get();this.$toolbar.call(this.toolbar.update),s.enter().append("div").classed({"nbp-theme-preview":1}).call(function(t){t.append("div").classed({"nbp-theme-preview-card":1}).on("click",function(t){var n=t.key;return e.current.set(n)}),t.append("a").classed({"nbp-default-theme btn":1}).on("click",function(t){var n=t.key;return e.defaultTheme.set(n)}).append("i").classed({"fa fa-2x":1})}),s.exit().remove(),s.classed({"nbp-theme-preview-current":function(e){return e.key===n}});var u=[];return u["fa-"+_icons.ICON.defaultTheme]=function(e){return e.key!==a},u["fa-"+_icons.ICON.defaultThemeActive]=function(e){return e.key===a},s.select(".nbp-default-theme i").classed(u),this.card.update(s.select(".nbp-theme-preview-card")),i.enter().append("div").classed({"nbp-theme-preview-canned":1}).on("click",function(t){var n=t.value,r=_nbpresentDeps.uuid.v4();e.themes.set([r],_nbpresentDeps._.extend({},n,{id:r})),e.current.set(r)}),i.exit().remove(),this.card.update(i),this}},{key:"currentUpdated",value:function(){var e=this.current.get(),t=this.defaultTheme.get(),n=this.themes.get();e&&(t&&n[t]||this.defaultTheme.set(e))}},{key:"destroyTheme",value:function(e){e=e||this.current.get(),e&&this.themes.unset([e]),this.current.set(null)}}]),e}();

},{"../icons":15,"../toolbar":43,"./card":35,"./theme/plain":38,"./theme/reveal":39,"nbpresent-deps":"nbpresent-deps"}],38:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PLAIN_THEMES=exports.PLAIN_THEMES={dark:{backgrounds:{"dc7afa04-bf90-40b1-82a5-726e3cff5267":{"background-color":"31af15d2-7e15-44c5-ab5e-e04b16a89eff",id:"dc7afa04-bf90-40b1-82a5-726e3cff5267"}},palette:{"19cc588f-0593-49c9-9f4b-e4d7cc113b1c":{id:"19cc588f-0593-49c9-9f4b-e4d7cc113b1c",rgb:[252,252,252]},"31af15d2-7e15-44c5-ab5e-e04b16a89eff":{id:"31af15d2-7e15-44c5-ab5e-e04b16a89eff",rgb:[68,68,68]},"50f92c45-a630-455b-aec3-788680ec7410":{id:"50f92c45-a630-455b-aec3-788680ec7410",rgb:[197,226,245]},"c5cc3653-2ee1-402a-aba2-7caae1da4f6c":{id:"c5cc3653-2ee1-402a-aba2-7caae1da4f6c",rgb:[43,126,184]},"efa7f048-9acb-414c-8b04-a26811511a21":{id:"efa7f048-9acb-414c-8b04-a26811511a21",rgb:[25.118061674008803,73.60176211453744,107.4819383259912]}},rules:{a:{color:"19cc588f-0593-49c9-9f4b-e4d7cc113b1c"},blockquote:{color:"50f92c45-a630-455b-aec3-788680ec7410","font-size":3},code:{"font-family":"Anonymous Pro"},h1:{color:"19cc588f-0593-49c9-9f4b-e4d7cc113b1c","font-family":"Merriweather","font-size":8},h2:{color:"19cc588f-0593-49c9-9f4b-e4d7cc113b1c","font-family":"Merriweather","font-size":6},h3:{color:"50f92c45-a630-455b-aec3-788680ec7410","font-family":"Lato","font-size":5.5},h4:{color:"c5cc3653-2ee1-402a-aba2-7caae1da4f6c","font-family":"Lato","font-size":5},h5:{"font-family":"Lato"},h6:{"font-family":"Lato"},h7:{"font-family":"Lato"},li:{color:"50f92c45-a630-455b-aec3-788680ec7410","font-size":3.25},pre:{"font-family":"Anonymous Pro","font-size":4}},"text-base":{color:"19cc588f-0593-49c9-9f4b-e4d7cc113b1c","font-family":"Lato","font-size":4}},plain:{palette:{"19cc588f-0593-49c9-9f4b-e4d7cc113b1c":{id:"19cc588f-0593-49c9-9f4b-e4d7cc113b1c",rgb:[252,252,252]},"31af15d2-7e15-44c5-ab5e-e04b16a89eff":{id:"31af15d2-7e15-44c5-ab5e-e04b16a89eff",rgb:[68,68,68]},"50f92c45-a630-455b-aec3-788680ec7410":{id:"50f92c45-a630-455b-aec3-788680ec7410",rgb:[155,177,192]},"c5cc3653-2ee1-402a-aba2-7caae1da4f6c":{id:"c5cc3653-2ee1-402a-aba2-7caae1da4f6c",rgb:[43,126,184]},"efa7f048-9acb-414c-8b04-a26811511a21":{id:"efa7f048-9acb-414c-8b04-a26811511a21",rgb:[25.118061674008803,73.60176211453744,107.4819383259912]}},rules:{blockquote:{color:"50f92c45-a630-455b-aec3-788680ec7410"},code:{"font-family":"Anonymous Pro"},h1:{color:"c5cc3653-2ee1-402a-aba2-7caae1da4f6c","font-family":"Lato","font-size":8},h2:{color:"c5cc3653-2ee1-402a-aba2-7caae1da4f6c","font-family":"Lato","font-size":6},h3:{color:"50f92c45-a630-455b-aec3-788680ec7410","font-family":"Lato","font-size":5.5},h4:{color:"c5cc3653-2ee1-402a-aba2-7caae1da4f6c","font-family":"Lato","font-size":5},h5:{"font-family":"Lato"},h6:{"font-family":"Lato"},h7:{"font-family":"Lato"},pre:{"font-family":"Anonymous Pro","font-size":4}},"text-base":{"font-family":"Merriweather","font-size":4}}};

},{}],39:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var REVEAL_THEMES=exports.REVEAL_THEMES={"black-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[256,256,256],id:"mainColor"},headingColor:{rgb:[256,256,256],id:"headingColor"},backgroundColor:{rgb:[34,34,34],id:"backgroundColor"},linkColor:{rgb:[66,175,250],id:"linkColor"}},id:"black-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":6,"font-family":"Source Sans Pro"},rules:{h6:{color:"headingColor","font-family":"Source Sans Pro"},h3:{color:"headingColor","font-size":3.5,"font-family":"Source Sans Pro"},h1:{color:"headingColor","font-size":5.25,"font-family":"Source Sans Pro"},h4:{color:"headingColor","font-size":3,"font-family":"Source Sans Pro"},h7:{color:"headingColor","font-family":"Source Sans Pro"},h2:{color:"headingColor","font-size":4,"font-family":"Source Sans Pro"},h5:{color:"headingColor","font-family":"Source Sans Pro"},p:{color:"mainColor","font-size":6,"font-family":"Source Sans Pro"},a:{color:"linkColor"},li:{color:"mainColor","font-size":6,"font-family":"Source Sans Pro"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"simple-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[0,0,0],id:"mainColor"},headingColor:{rgb:[0,0,0],id:"headingColor"},backgroundColor:{rgb:[256,256,256],id:"backgroundColor"},linkColor:{rgb:[0,0,139],id:"linkColor"}},id:"simple-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"Lato"},rules:{h6:{color:"headingColor","font-family":"News Cycle"},h3:{color:"headingColor","font-size":3.75,"font-family":"News Cycle"},h1:{color:"headingColor","font-size":7,"font-family":"News Cycle"},h4:{color:"headingColor","font-size":3,"font-family":"News Cycle"},h7:{color:"headingColor","font-family":"News Cycle"},h2:{color:"headingColor","font-size":5,"font-family":"News Cycle"},h5:{color:"headingColor","font-family":"News Cycle"},p:{color:"mainColor","font-size":5,"font-family":"Lato"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"Lato"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"sky-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[51,51,51],id:"mainColor"},headingColor:{rgb:[51,51,51],id:"headingColor"},backgroundColor:{rgb:[247,251,252],id:"backgroundColor"},linkColor:{rgb:[59,117,158],id:"linkColor"}},id:"sky-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"Open Sans"},rules:{h6:{color:"headingColor","font-family":"Quicksand"},h3:{color:"headingColor","font-size":3.75,"font-family":"Quicksand"},h1:{color:"headingColor","font-size":7,"font-family":"Quicksand"},h4:{color:"headingColor","font-size":3,"font-family":"Quicksand"},h7:{color:"headingColor","font-family":"Quicksand"},h2:{color:"headingColor","font-size":5,"font-family":"Quicksand"},h5:{color:"headingColor","font-family":"Quicksand"},p:{color:"mainColor","font-size":5,"font-family":"Open Sans"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"Open Sans"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"solarized-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[101,123,131],id:"mainColor"},headingColor:{rgb:[88,110,117],id:"headingColor"},backgroundColor:{rgb:[253,246,227],id:"backgroundColor"},linkColor:{rgb:[38,139,210],id:"linkColor"}},id:"solarized-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"Lato"},rules:{h6:{color:"headingColor","font-family":"Oswald"},h3:{color:"headingColor","font-size":3.75,"font-family":"Oswald"},h1:{color:"headingColor","font-size":7,"font-family":"Oswald"},h4:{color:"headingColor","font-size":3,"font-family":"Oswald"},h7:{color:"headingColor","font-family":"Oswald"},h2:{color:"headingColor","font-size":5,"font-family":"Oswald"},h5:{color:"headingColor","font-family":"Oswald"},p:{color:"mainColor","font-size":5,"font-family":"Lato"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"Lato"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"beige-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[51,51,51],id:"mainColor"},headingColor:{rgb:[51,51,51],id:"headingColor"},backgroundColor:{rgb:[247,243,222],id:"backgroundColor"},linkColor:{rgb:[139,116,61],id:"linkColor"}},id:"beige-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"Lato"},rules:{h6:{color:"headingColor","font-family":"Oswald"},h3:{color:"headingColor","font-size":3.75,"font-family":"Oswald"},h1:{color:"headingColor","font-size":7,"font-family":"Oswald"},h4:{color:"headingColor","font-size":3,"font-family":"Oswald"},h7:{color:"headingColor","font-family":"Oswald"},h2:{color:"headingColor","font-size":5,"font-family":"Oswald"},h5:{color:"headingColor","font-family":"Oswald"},p:{color:"mainColor","font-size":5,"font-family":"Lato"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"Lato"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"blood-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[238,238,238],id:"mainColor"},headingColor:{rgb:[238,238,238],id:"headingColor"},backgroundColor:{rgb:[34,34,34],id:"backgroundColor"},linkColor:{rgb:[170,34,51],id:"linkColor"}},id:"blood-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"Ubuntu"},rules:{h6:{color:"headingColor","font-family":"Ubuntu"},h3:{color:"headingColor","font-size":3.75,"font-family":"Ubuntu"},h1:{color:"headingColor","font-size":7,"font-family":"Ubuntu"},h4:{color:"headingColor","font-size":3,"font-family":"Ubuntu"},h7:{color:"headingColor","font-family":"Ubuntu"},h2:{color:"headingColor","font-size":5,"font-family":"Ubuntu"},h5:{color:"headingColor","font-family":"Ubuntu"},p:{color:"mainColor","font-size":5,"font-family":"Ubuntu"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"Ubuntu"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"night-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[238,238,238],id:"mainColor"},headingColor:{rgb:[238,238,238],id:"headingColor"},backgroundColor:{rgb:[17,17,17],id:"backgroundColor"},linkColor:{rgb:[231,173,82],id:"linkColor"}},id:"night-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":4,"font-family":"Open Sans"},rules:{h6:{color:"headingColor","font-family":"Montserrat"},h3:{color:"headingColor","font-size":3.75,"font-family":"Montserrat"},h1:{color:"headingColor","font-size":7,"font-family":"Montserrat"},h4:{color:"headingColor","font-size":3,"font-family":"Montserrat"},h7:{color:"headingColor","font-family":"Montserrat"},h2:{color:"headingColor","font-size":5,"font-family":"Montserrat"},h5:{color:"headingColor","font-family":"Montserrat"},p:{color:"mainColor","font-size":4,"font-family":"Open Sans"},a:{color:"linkColor"},li:{color:"mainColor","font-size":4,"font-family":"Open Sans"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"serif-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[0,0,0],id:"mainColor"},headingColor:{rgb:[56,61,61],id:"headingColor"},backgroundColor:{rgb:[240,241,235],id:"backgroundColor"},linkColor:{rgb:[81,72,61],id:"linkColor"}},id:"serif-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"EB Garamond"},rules:{h6:{color:"headingColor","font-family":"EB Garamond"},h3:{color:"headingColor","font-size":3.75,"font-family":"EB Garamond"},h1:{color:"headingColor","font-size":7,"font-family":"EB Garamond"},h4:{color:"headingColor","font-size":3,"font-family":"EB Garamond"},h7:{color:"headingColor","font-family":"EB Garamond"},h2:{color:"headingColor","font-size":5,"font-family":"EB Garamond"},h5:{color:"headingColor","font-family":"EB Garamond"},p:{color:"mainColor","font-size":5,"font-family":"EB Garamond"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"EB Garamond"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"white-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[34,34,34],id:"mainColor"},headingColor:{rgb:[34,34,34],id:"headingColor"},backgroundColor:{rgb:[256,256,256],id:"backgroundColor"},linkColor:{rgb:[42,118,221],id:"linkColor"}},id:"white-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":6,"font-family":"Source Sans Pro"},rules:{h6:{color:"headingColor","font-family":"Source Sans Pro"},h3:{color:"headingColor","font-size":3.5,"font-family":"Source Sans Pro"},h1:{color:"headingColor","font-size":5.25,"font-family":"Source Sans Pro"},h4:{color:"headingColor","font-size":3,"font-family":"Source Sans Pro"},h7:{color:"headingColor","font-family":"Source Sans Pro"},h2:{color:"headingColor","font-size":4,"font-family":"Source Sans Pro"},h5:{color:"headingColor","font-family":"Source Sans Pro"},p:{color:"mainColor","font-size":6,"font-family":"Source Sans Pro"},a:{color:"linkColor"},li:{color:"mainColor","font-size":6,"font-family":"Source Sans Pro"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"moon-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[147,161,161],id:"mainColor"},headingColor:{rgb:[238,232,213],id:"headingColor"},backgroundColor:{rgb:[0,43,54],id:"backgroundColor"},linkColor:{rgb:[38,139,210],id:"linkColor"}},id:"moon-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"Lato"},rules:{h6:{color:"headingColor","font-family":"Oswald"},h3:{color:"headingColor","font-size":3.75,"font-family":"Oswald"},h1:{color:"headingColor","font-size":7,"font-family":"Oswald"},h4:{color:"headingColor","font-size":3,"font-family":"Oswald"},h7:{color:"headingColor","font-family":"Oswald"},h2:{color:"headingColor","font-size":5,"font-family":"Oswald"},h5:{color:"headingColor","font-family":"Oswald"},p:{color:"mainColor","font-size":5,"font-family":"Lato"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"Lato"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}},"league-by-revealjs-3.2.0":{palette:{mainColor:{rgb:[238,238,238],id:"mainColor"},headingColor:{rgb:[238,238,238],id:"headingColor"},backgroundColor:{rgb:[43,43,43],id:"backgroundColor"},linkColor:{rgb:[19,218,236],id:"linkColor"}},id:"league-by-revealjs-3.2.0","text-base":{color:"mainColor","font-size":5,"font-family":"Lato"},rules:{h6:{color:"headingColor","font-family":"Oswald"},h3:{color:"headingColor","font-size":3.75,"font-family":"Oswald"},h1:{color:"headingColor","font-size":7,"font-family":"Oswald"},h4:{color:"headingColor","font-size":3,"font-family":"Oswald"},h7:{color:"headingColor","font-family":"Oswald"},h2:{color:"headingColor","font-size":5,"font-family":"Oswald"},h5:{color:"headingColor","font-family":"Oswald"},p:{color:"mainColor","font-size":5,"font-family":"Lato"},a:{color:"linkColor"},li:{color:"mainColor","font-size":5,"font-family":"Lato"}},backgrounds:{backgroundColor:{"background-color":"backgroundColor",id:"backgroundColor"}}}};

},{}],40:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AriseTome=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_logger=require("../logger"),_parts=require("../parts"),_base=require("./base"),AriseTome=exports.AriseTome=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"icon",value:function(){return"cube"}},{key:"title",value:function(){return"RISE/reveal.js"}},{key:"label",value:function(){return this.cells().map(function(e){return(e.metadata.slideshow||{}).slide_type}).filter(String).filter(function(e){return-1!==["slide","subslide"].indexOf(e)}).length+" Slides"}},{key:"relevant",value:function(){return this.cells().filter(function(e){return e.metadata.slideshow}).length}},{key:"study",value:function(){var e=this,t=[],r=void 0;return this.cells().map(function(n,o){r=t.slice(-1)[0];var i=(n.metadata.slideshow||{}).slide_type||(o?"-":"slide");switch(i){case"subslide":case"slide":t.push(e.wholeCellSlide(n,r?r.id:null));break;case"fragment":case"-":r&&e.fromSlideshowContinuation(n,r);break;case"notes":case"skip":break;default:_logger.log.debug(i,"not implemented yet")}}),t}},{key:"fromSlideshowContinuation",value:function(e,t){var r=this.sorter.nextId(),n=this.sorter.cellId(e);t.regions[r]={id:r,content:{cell:n,part:_parts.PART.whole},attrs:{x:.1,y:.5,width:.8,height:.4}}}}]),t}(_base.BaseTome);

},{"../logger":19,"../parts":24,"./base":41}],41:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseTome=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_namespace=require("base/js/namespace"),_namespace2=_interopRequireDefault(_namespace),_parts=require("../parts"),BaseTome=exports.BaseTome=function(){function e(t){_classCallCheck(this,e),this.sorter=t}return _createClass(e,[{key:"relevant",value:function(){return!0}},{key:"study",value:function(){return[]}},{key:"execute",value:function(){var e=this;this.study().map(function(t){return e.sorter.slides.set([t.id],t)})}},{key:"cells",value:function(){return _namespace2.default.notebook.get_cells()}},{key:"wholeCellSlide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.sorter.nextId(),n=this.sorter.nextId(),a=this.sorter.cellId(e),s={};return s[n]={id:n,content:{cell:a,part:_parts.PART.whole},attrs:{x:.1,y:.1,width:.8,height:.8}},{regions:s,id:r,prev:t}}}]),e}();

},{"../parts":24,"base/js/namespace":"base/js/namespace"}],42:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasicTome=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_base=require("./base"),BasicTome=exports.BasicTome=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"icon",value:function(){return"columns fa-rotate-270"}},{key:"title",value:function(){return"Basic"}},{key:"label",value:function(){return this.study().length+" Slides"}},{key:"study",value:function(){var e=this,t=[],n=void 0;return this.cells().map(function(r){n=t.slice(-1)[0],t.push(e.wholeCellSlide(r,n?n.id:null))}),t}}]),t}(_base.BaseTome);

},{"./base":41}],43:[function(require,module,exports){
"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toolbar=void 0;var _createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),_nbpresentDeps=require("nbpresent-deps"),fn=_nbpresentDeps.d3.functor,Toolbar=exports.Toolbar=function(){function t(){_classCallCheck(this,t),this._btnClass=fn("btn-default"),this._btnGroupClass=fn("btn-group"),this._tipOptions=fn({container:"body"}),this.update=this.update.bind(this)}return _createClass(t,[{key:"btnClass",value:function(t){return arguments.length?[this._btnClass=fn(t),this][1]:this._btnClass}},{key:"tipOptions",value:function(t){return arguments.length?[this._tipOptions=fn(t),this][1]:this._tipOptions}},{key:"btnGroupClass",value:function(t){return arguments.length?[this._btnGroupClass=fn(t),this][1]:this._btnGroupClass}},{key:"update",value:function(t){var n=this,e=this;t.classed({"btn-toolbar nbp-toolbar":1});var r=t.selectAll(".btn-toolbar-group").data(function(t){return t});r.enter().append("div").classed({"btn-toolbar-group":1}).classed(this._btnGroupClass(),1);var s=r.selectAll(".btn").data(function(t){return t});s.enter().append("a").classed({btn:1}).call(function(t){t.append("i"),t.append("label")}),s.attr({class:function(t){return"btn "+n._btnClass(t)},title:function(t){return t.tip||t.label}}).each(function(t){if(_nbpresentDeps.$.fn.tooltip){try{(0,_nbpresentDeps.$)(this).tooltip("destroy")}catch(t){}t.tip&&(0,_nbpresentDeps.$)(this).tooltip(e._tipOptions(t))}}).on("click",function(t){return t.click()}),s.select("i").filter(function(t){var n=t.icon;return _nbpresentDeps._.isString(n)}).attr({class:function(t){return"fa fa-fw fa-2x fa-"+t.icon}}).selectAll("i").remove();var i=s.select("i").filter(function(t){var n=t.icon;return!_nbpresentDeps._.isString(n)}).attr({class:"fa-stack"}).selectAll("i").data(function(t){return t.icon.map(function(){return t})});i.exit().remove(),i.enter().append("i"),i.attr({class:function(t,n){return"fa fa-"+t.icon[n]}}),s.select("label").text(function(t){return t.label}),s.filter(function(t){return t.visible&&!t.visible()}).remove(),s.exit().remove(),r.exit().remove()}}]),t}();

},{"nbpresent-deps":"nbpresent-deps"}],44:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tree=void 0;var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),_nbpresentDeps=require("nbpresent-deps"),Tree=exports.Tree=function(){function e(r){_classCallCheck(this,e),this.tree=new _nbpresentDeps.Baobab(_nbpresentDeps.$.extend({slides:{},sortedSlides:_nbpresentDeps.Baobab.monkey(["slides"],this.sortedSlides),themes:{}},r))}return _createClass(e,[{key:"sortedSlides",value:function(e){var r=_nbpresentDeps.d3.entries(e);return r.sort(function(e,r){return null===e.value.prev||e.key===r.value.prev?-1:1}),r}}]),e}();

},{"nbpresent-deps":"nbpresent-deps"}]},{},[22])(22)
});
